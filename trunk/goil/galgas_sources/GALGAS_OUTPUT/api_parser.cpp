//---------------------------------------------------------------------------*
//                                                                           *
//                          File 'api_parser.cpp'                            *
//                    Generated by version version 2.2.6                     *
//                     october 12th, 2011, at 14h50'27"                      *
//                                                                           *
//---------------------------------------------------------------------------*

//--- START OF USER ZONE 1


//--- END OF USER ZONE 1

#include "api_parser.h"
#include "galgas2/C_galgas_CLI_Options.h"
#include "utilities/C_PrologueEpilogue.h"

//---------------------------------------------------------------------------*


//---------------------------------------------------------------------------*

#ifndef DO_NOT_GENERATE_CHECKINGS
  #define SOURCE_FILE_AT_LINE(line) "api_parser.gSyntax", line
  #define COMMA_SOURCE_FILE_AT_LINE(line) , SOURCE_FILE_AT_LINE(line)
#else
  #define SOURCE_FILE_AT_LINE(line) 
  #define COMMA_SOURCE_FILE_AT_LINE(line) 
#endif

//---------------------------------------------------------------------------*

void cParser_api_5F_parser::rule_api_5F_parser_api_5F_start_i0_ (GALGAS_goilTemplateVariableMap & ioArgument_cfg,
                                                                 C_Lexique_api_5F_scanner * inCompiler) {
  //-------- @localVariableDeclarationForGeneration
  GALGAS_goilTemplateValue var_value ;
  //-------- @methodCallInstructionForGeneration
  GALGAS_goilTemplateType joker_618_0 ; // Joker input parameter
  ioArgument_cfg.method_searchKey (GALGAS_lstring::constructor_new (GALGAS_string ("USECOM"), inCompiler->here () COMMA_SOURCE_FILE_AT_LINE (27)), joker_618_0, var_value, inCompiler COMMA_SOURCE_FILE_AT_LINE (27)) ;
  //-------- END @methodCallInstructionForGeneration
  //-------- @localVariableOrConstantDeclarationWithSourceExpressionForGeneration
  GALGAS_bool var_usecom = GALGAS_bool (kIsEqual, var_value.reader_mUnsigned_36__34_Value (SOURCE_FILE_AT_LINE (28)).objectCompare (GALGAS_uint_36__34_ ((PMUInt64) 1ULL))) ;
  //-------- @methodCallInstructionForGeneration
  GALGAS_goilTemplateType joker_732_0 ; // Joker input parameter
  ioArgument_cfg.method_searchKey (GALGAS_lstring::constructor_new (GALGAS_string ("AUTOSAR"), inCompiler->here () COMMA_SOURCE_FILE_AT_LINE (29)), joker_732_0, var_value, inCompiler COMMA_SOURCE_FILE_AT_LINE (29)) ;
  //-------- END @methodCallInstructionForGeneration
  //-------- @localVariableOrConstantDeclarationWithSourceExpressionForGeneration
  GALGAS_bool var_autosar = GALGAS_bool (kIsEqual, var_value.reader_mUnsigned_36__34_Value (SOURCE_FILE_AT_LINE (30)).objectCompare (GALGAS_uint_36__34_ ((PMUInt64) 1ULL))) ;
  //-------- @methodCallInstructionForGeneration
  GALGAS_goilTemplateType joker_856_0 ; // Joker input parameter
  ioArgument_cfg.method_searchKey (GALGAS_lstring::constructor_new (GALGAS_string ("SCALABILITYCLASS"), inCompiler->here () COMMA_SOURCE_FILE_AT_LINE (31)), joker_856_0, var_value, inCompiler COMMA_SOURCE_FILE_AT_LINE (31)) ;
  //-------- END @methodCallInstructionForGeneration
  //-------- @localVariableOrConstantDeclarationWithSourceExpressionForGeneration
  GALGAS_uint_36__34_ var_scalabilityclass = var_value.reader_mUnsigned_36__34_Value (SOURCE_FILE_AT_LINE (32)) ;
  //-------- @localVariableOrConstantDeclarationWithConstructorCallForGeneration
  GALGAS_goilTemplateFieldMap var_api = GALGAS_goilTemplateFieldMap::constructor_emptyMap (SOURCE_FILE_AT_LINE (34)) ;
  //-------- @localVariableOrConstantDeclarationWithConstructorCallForGeneration
  GALGAS_goilTemplateFieldMapList var_usedFiles = GALGAS_goilTemplateFieldMapList::constructor_emptyList (SOURCE_FILE_AT_LINE (35)) ;
  //-------- @localVariableOrConstantDeclarationWithConstructorCallForGeneration
  GALGAS_goilTemplateFieldMapList var_usedApi = GALGAS_goilTemplateFieldMapList::constructor_emptyList (SOURCE_FILE_AT_LINE (36)) ;
  //-------- @repeatInstructionForGeneration
  bool repeatFlag_0 = true ;
  while (repeatFlag_0) {
    switch (select_api_5F_parser_0 (inCompiler)) {
    case 2: {
      //-------- @localVariableDeclarationForGeneration
      GALGAS_lstring var_sectionName ;
      //-------- @localVariableDeclarationForGeneration
      GALGAS_goilTemplateFieldMapList var_section ;
      //-------- @terminalCheckInstructionForGeneration
      var_sectionName = inCompiler->synthetizedAttribute_att_5F_token () ;
      inCompiler->acceptTerminal (ACCEPT_TERMINAL (C_Lexique_api_5F_scanner::kToken_idf) COMMA_SOURCE_FILE_AT_LINE (41)) ;
      //-------- @localVariableOrConstantDeclarationWithSourceExpressionForGeneration
      GALGAS_string var_sn = var_sectionName.reader_string (SOURCE_FILE_AT_LINE (42)) ;
      //-------- @localVariableOrConstantDeclarationWithSourceExpressionForGeneration
      GALGAS_bool var_valid = GALGAS_bool (kIsEqual, var_sn.objectCompare (GALGAS_string ("COM"))).operator_and (var_usecom COMMA_SOURCE_FILE_AT_LINE (44)).operator_or (GALGAS_bool (kIsEqual, var_sn.objectCompare (GALGAS_string ("ISR"))).operator_or (GALGAS_bool (kIsEqual, var_sn.objectCompare (GALGAS_string ("COUNTER"))) COMMA_SOURCE_FILE_AT_LINE (45)).operator_or (GALGAS_bool (kIsEqual, var_sn.objectCompare (GALGAS_string ("SCHEDULETABLE"))) COMMA_SOURCE_FILE_AT_LINE (45)).operator_and (var_autosar COMMA_SOURCE_FILE_AT_LINE (45)) COMMA_SOURCE_FILE_AT_LINE (44)).operator_or (GALGAS_bool (kIsEqual, var_sn.objectCompare (GALGAS_string ("GLOBALTIME"))).operator_and (GALGAS_bool (kIsEqual, var_scalabilityclass.objectCompare (GALGAS_uint_36__34_ ((PMUInt64) 2ULL))).operator_or (GALGAS_bool (kIsEqual, var_scalabilityclass.objectCompare (GALGAS_uint_36__34_ ((PMUInt64) 4ULL))) COMMA_SOURCE_FILE_AT_LINE (46)) COMMA_SOURCE_FILE_AT_LINE (46)) COMMA_SOURCE_FILE_AT_LINE (45)).operator_or (GALGAS_bool (kIsEqual, var_sn.objectCompare (GALGAS_string ("OSAPPLICATION"))).operator_or (GALGAS_bool (kIsEqual, var_sn.objectCompare (GALGAS_string ("MEMORYPROTECTION"))) COMMA_SOURCE_FILE_AT_LINE (47)).operator_or (GALGAS_bool (kIsEqual, var_sn.objectCompare (GALGAS_string ("SERVICEPROTECTION"))) COMMA_SOURCE_FILE_AT_LINE (47)).operator_or (GALGAS_bool (kIsEqual, var_sn.objectCompare (GALGAS_string ("TRUSTEDFUNCTION"))) COMMA_SOURCE_FILE_AT_LINE (47)).operator_and (GALGAS_bool (kIsEqual, var_scalabilityclass.objectCompare (GALGAS_uint_36__34_ ((PMUInt64) 3ULL))).operator_or (GALGAS_bool (kIsEqual, var_scalabilityclass.objectCompare (GALGAS_uint_36__34_ ((PMUInt64) 4ULL))) COMMA_SOURCE_FILE_AT_LINE (47)) COMMA_SOURCE_FILE_AT_LINE (47)) COMMA_SOURCE_FILE_AT_LINE (46)).operator_or (GALGAS_bool (kIsEqual, var_sn.objectCompare (GALGAS_string ("TASK"))).operator_or (GALGAS_bool (kIsEqual, var_sn.objectCompare (GALGAS_string ("INTERRUPT"))) COMMA_SOURCE_FILE_AT_LINE (48)).operator_or (GALGAS_bool (kIsEqual, var_sn.objectCompare (GALGAS_string ("RESOURCE"))) COMMA_SOURCE_FILE_AT_LINE (48)).operator_or (GALGAS_bool (kIsEqual, var_sn.objectCompare (GALGAS_string ("EVENT"))) COMMA_SOURCE_FILE_AT_LINE (48)).operator_or (GALGAS_bool (kIsEqual, var_sn.objectCompare (GALGAS_string ("ALARM"))) COMMA_SOURCE_FILE_AT_LINE (48)).operator_or (GALGAS_bool (kIsEqual, var_sn.objectCompare (GALGAS_string ("OS"))) COMMA_SOURCE_FILE_AT_LINE (48)) COMMA_SOURCE_FILE_AT_LINE (47)) ;
      //-------- @selectInstructionForGeneration
      switch (select_api_5F_parser_1 (inCompiler)) {
      case 1: {
        //-------- @terminalCheckInstructionForGeneration
        inCompiler->acceptTerminal (ACCEPT_TERMINAL (C_Lexique_api_5F_scanner::kToken__28_) COMMA_SOURCE_FILE_AT_LINE (50)) ;
        //-------- @terminalCheckInstructionForGeneration
        GALGAS_lstring var_file = inCompiler->synthetizedAttribute_att_5F_token () ;
        inCompiler->acceptTerminal (ACCEPT_TERMINAL (C_Lexique_api_5F_scanner::kToken_idf) COMMA_SOURCE_FILE_AT_LINE (50)) ;
        //-------- @terminalCheckInstructionForGeneration
        inCompiler->acceptTerminal (ACCEPT_TERMINAL (C_Lexique_api_5F_scanner::kToken__29_) COMMA_SOURCE_FILE_AT_LINE (50)) ;
        { //-------- @routineCallInstructionForGeneration
        routine_addLStringFieldValue (var_api, var_sn.operator_concat (GALGAS_string ("FILE") COMMA_SOURCE_FILE_AT_LINE (51)), var_file, inCompiler COMMA_SOURCE_FILE_AT_LINE (51)) ;
        } //-------- @routineCallInstructionForGeneration
        //-------- @ifInstructionForGeneration
        const enumGalgasBool test_1 = var_valid.boolEnum () ;
        if (kBoolTrue == test_1) {
          //-------- @localVariableOrConstantDeclarationWithConstructorCallForGeneration
          GALGAS_goilTemplateFieldMap var_fileEntry = GALGAS_goilTemplateFieldMap::constructor_emptyMap (SOURCE_FILE_AT_LINE (53)) ;
          { //-------- @routineCallInstructionForGeneration
          routine_addLStringFieldValue (var_fileEntry, GALGAS_string ("FILE"), var_file, inCompiler COMMA_SOURCE_FILE_AT_LINE (54)) ;
          } //-------- @routineCallInstructionForGeneration
          //-------- @plusEqualnstructionForGeneration
          var_usedFiles.addAssign_operation (var_fileEntry COMMA_SOURCE_FILE_AT_LINE (55)) ;
        }
      } break ;
      case 2: {
      } break ;
      default:
        break ;
      }
      //-------- @nonterminalInstructionForGeneration
      nt_api_5F_section_ (var_section, inCompiler) ;
      { //-------- @routineCallInstructionForGeneration
      routine_addListFieldValue (var_api, var_sectionName, var_section, inCompiler COMMA_SOURCE_FILE_AT_LINE (59)) ;
      } //-------- @routineCallInstructionForGeneration
      //-------- @ifInstructionForGeneration
      const enumGalgasBool test_2 = var_valid.boolEnum () ;
      if (kBoolTrue == test_2) {
        //-------- @assignmentInstructionForGeneration
        var_usedApi = var_usedApi.operator_concat (var_section COMMA_SOURCE_FILE_AT_LINE (61)) ;
      }
    } break ;
    default:
      repeatFlag_0 = false ;
      break ;
    }
  }
  { //-------- @routineCallInstructionForGeneration
  routine_addListFieldValue (var_api, GALGAS_lstring::constructor_new (GALGAS_string ("USEDAPI"), inCompiler->here () COMMA_SOURCE_FILE_AT_LINE (64)), var_usedApi, inCompiler COMMA_SOURCE_FILE_AT_LINE (64)) ;
  } //-------- @routineCallInstructionForGeneration
  { //-------- @routineCallInstructionForGeneration
  routine_addListFieldValue (var_api, GALGAS_lstring::constructor_new (GALGAS_string ("USEDFILES"), inCompiler->here () COMMA_SOURCE_FILE_AT_LINE (65)), var_usedFiles, inCompiler COMMA_SOURCE_FILE_AT_LINE (65)) ;
  } //-------- @routineCallInstructionForGeneration
  { //-------- @routineCallInstructionForGeneration
  routine_addStructValue (ioArgument_cfg, GALGAS_lstring::constructor_new (GALGAS_string ("APICONFIG"), inCompiler->here () COMMA_SOURCE_FILE_AT_LINE (67)), var_api, inCompiler COMMA_SOURCE_FILE_AT_LINE (67)) ;
  } //-------- @routineCallInstructionForGeneration
}

//---------------------------------------------------------------------------*

void cParser_api_5F_parser::rule_api_5F_parser_api_5F_start_i0_parse (C_Lexique_api_5F_scanner * inCompiler) {
  //-------- @repeatInstructionForGeneration
  bool repeatFlag_0 = true ;
  while (repeatFlag_0) {
    switch (select_api_5F_parser_0 (inCompiler)) {
    case 2: {
      //-------- @terminalCheckInstructionForGeneration
      inCompiler->acceptTerminal (ACCEPT_TERMINAL (C_Lexique_api_5F_scanner::kToken_idf) COMMA_SOURCE_FILE_AT_LINE (41)) ;
      //-------- @selectInstructionForGeneration
      switch (select_api_5F_parser_1 (inCompiler)) {
      case 1: {
        //-------- @terminalCheckInstructionForGeneration
        inCompiler->acceptTerminal (ACCEPT_TERMINAL (C_Lexique_api_5F_scanner::kToken__28_) COMMA_SOURCE_FILE_AT_LINE (50)) ;
        //-------- @terminalCheckInstructionForGeneration
        inCompiler->acceptTerminal (ACCEPT_TERMINAL (C_Lexique_api_5F_scanner::kToken_idf) COMMA_SOURCE_FILE_AT_LINE (50)) ;
        //-------- @terminalCheckInstructionForGeneration
        inCompiler->acceptTerminal (ACCEPT_TERMINAL (C_Lexique_api_5F_scanner::kToken__29_) COMMA_SOURCE_FILE_AT_LINE (50)) ;
      } break ;
      case 2: {
      } break ;
      default:
        break ;
      }
      //-------- @nonterminalInstructionForGeneration
      nt_api_5F_section_parse (inCompiler) ;
    } break ;
    default:
      repeatFlag_0 = false ;
      break ;
    }
  }
  inCompiler->resetTemplateString () ;
}

//---------------------------------------------------------------------------*

void cParser_api_5F_parser::rule_api_5F_parser_api_5F_section_i1_ (GALGAS_goilTemplateFieldMapList & outArgument_outList,
                                                                   C_Lexique_api_5F_scanner * inCompiler) {
  outArgument_outList.drop () ; // Release 'out' argument
  //-------- @terminalCheckInstructionForGeneration
  inCompiler->acceptTerminal (ACCEPT_TERMINAL (C_Lexique_api_5F_scanner::kToken__7B_) COMMA_SOURCE_FILE_AT_LINE (71)) ;
  //-------- @assignmentInstructionForGeneration
  outArgument_outList = GALGAS_goilTemplateFieldMapList::constructor_emptyList (SOURCE_FILE_AT_LINE (72)) ;
  //-------- @repeatInstructionForGeneration
  bool repeatFlag_0 = true ;
  while (repeatFlag_0) {
    switch (select_api_5F_parser_2 (inCompiler)) {
    case 2: {
      //-------- @localVariableDeclarationForGeneration
      GALGAS_lstring var_realApiFct ;
      //-------- @terminalCheckInstructionForGeneration
      GALGAS_lstring var_apiFct = inCompiler->synthetizedAttribute_att_5F_token () ;
      inCompiler->acceptTerminal (ACCEPT_TERMINAL (C_Lexique_api_5F_scanner::kToken_idf) COMMA_SOURCE_FILE_AT_LINE (75)) ;
      //-------- @selectInstructionForGeneration
      switch (select_api_5F_parser_3 (inCompiler)) {
      case 1: {
        //-------- @terminalCheckInstructionForGeneration
        inCompiler->acceptTerminal (ACCEPT_TERMINAL (C_Lexique_api_5F_scanner::kToken__28_) COMMA_SOURCE_FILE_AT_LINE (77)) ;
        //-------- @terminalCheckInstructionForGeneration
        var_realApiFct = inCompiler->synthetizedAttribute_att_5F_token () ;
        inCompiler->acceptTerminal (ACCEPT_TERMINAL (C_Lexique_api_5F_scanner::kToken_idf) COMMA_SOURCE_FILE_AT_LINE (77)) ;
        //-------- @terminalCheckInstructionForGeneration
        inCompiler->acceptTerminal (ACCEPT_TERMINAL (C_Lexique_api_5F_scanner::kToken__29_) COMMA_SOURCE_FILE_AT_LINE (77)) ;
      } break ;
      case 2: {
        //-------- @assignmentInstructionForGeneration
        var_realApiFct = var_apiFct ;
      } break ;
      default:
        break ;
      }
      //-------- @terminalCheckInstructionForGeneration
      inCompiler->acceptTerminal (ACCEPT_TERMINAL (C_Lexique_api_5F_scanner::kToken__2D__3E_) COMMA_SOURCE_FILE_AT_LINE (81)) ;
      //-------- @terminalCheckInstructionForGeneration
      GALGAS_lstring var_kernelFct = inCompiler->synthetizedAttribute_att_5F_token () ;
      inCompiler->acceptTerminal (ACCEPT_TERMINAL (C_Lexique_api_5F_scanner::kToken_idf) COMMA_SOURCE_FILE_AT_LINE (82)) ;
      //-------- @terminalCheckInstructionForGeneration
      inCompiler->acceptTerminal (ACCEPT_TERMINAL (C_Lexique_api_5F_scanner::kToken__3B_) COMMA_SOURCE_FILE_AT_LINE (83)) ;
      //-------- @localVariableOrConstantDeclarationWithConstructorCallForGeneration
      GALGAS_goilTemplateFieldMap var_apiEntry = GALGAS_goilTemplateFieldMap::constructor_emptyMap (SOURCE_FILE_AT_LINE (84)) ;
      { //-------- @routineCallInstructionForGeneration
      routine_addLStringFieldValue (var_apiEntry, GALGAS_string ("API"), var_apiFct, inCompiler COMMA_SOURCE_FILE_AT_LINE (85)) ;
      } //-------- @routineCallInstructionForGeneration
      { //-------- @routineCallInstructionForGeneration
      routine_addLStringFieldValue (var_apiEntry, GALGAS_string ("REAL"), var_realApiFct, inCompiler COMMA_SOURCE_FILE_AT_LINE (86)) ;
      } //-------- @routineCallInstructionForGeneration
      { //-------- @routineCallInstructionForGeneration
      routine_addLStringFieldValue (var_apiEntry, GALGAS_string ("KERNEL"), var_kernelFct, inCompiler COMMA_SOURCE_FILE_AT_LINE (87)) ;
      } //-------- @routineCallInstructionForGeneration
      //-------- @plusEqualnstructionForGeneration
      outArgument_outList.addAssign_operation (var_apiEntry COMMA_SOURCE_FILE_AT_LINE (88)) ;
    } break ;
    default:
      repeatFlag_0 = false ;
      break ;
    }
  }
  //-------- @terminalCheckInstructionForGeneration
  inCompiler->acceptTerminal (ACCEPT_TERMINAL (C_Lexique_api_5F_scanner::kToken__7D_) COMMA_SOURCE_FILE_AT_LINE (90)) ;
  //-------- @terminalCheckInstructionForGeneration
  inCompiler->acceptTerminal (ACCEPT_TERMINAL (C_Lexique_api_5F_scanner::kToken__3B_) COMMA_SOURCE_FILE_AT_LINE (91)) ;
}

//---------------------------------------------------------------------------*

void cParser_api_5F_parser::rule_api_5F_parser_api_5F_section_i1_parse (C_Lexique_api_5F_scanner * inCompiler) {
  //-------- @terminalCheckInstructionForGeneration
  inCompiler->acceptTerminal (ACCEPT_TERMINAL (C_Lexique_api_5F_scanner::kToken__7B_) COMMA_SOURCE_FILE_AT_LINE (71)) ;
  //-------- @repeatInstructionForGeneration
  bool repeatFlag_0 = true ;
  while (repeatFlag_0) {
    switch (select_api_5F_parser_2 (inCompiler)) {
    case 2: {
      //-------- @terminalCheckInstructionForGeneration
      inCompiler->acceptTerminal (ACCEPT_TERMINAL (C_Lexique_api_5F_scanner::kToken_idf) COMMA_SOURCE_FILE_AT_LINE (75)) ;
      //-------- @selectInstructionForGeneration
      switch (select_api_5F_parser_3 (inCompiler)) {
      case 1: {
        //-------- @terminalCheckInstructionForGeneration
        inCompiler->acceptTerminal (ACCEPT_TERMINAL (C_Lexique_api_5F_scanner::kToken__28_) COMMA_SOURCE_FILE_AT_LINE (77)) ;
        //-------- @terminalCheckInstructionForGeneration
        inCompiler->acceptTerminal (ACCEPT_TERMINAL (C_Lexique_api_5F_scanner::kToken_idf) COMMA_SOURCE_FILE_AT_LINE (77)) ;
        //-------- @terminalCheckInstructionForGeneration
        inCompiler->acceptTerminal (ACCEPT_TERMINAL (C_Lexique_api_5F_scanner::kToken__29_) COMMA_SOURCE_FILE_AT_LINE (77)) ;
      } break ;
      case 2: {
      } break ;
      default:
        break ;
      }
      //-------- @terminalCheckInstructionForGeneration
      inCompiler->acceptTerminal (ACCEPT_TERMINAL (C_Lexique_api_5F_scanner::kToken__2D__3E_) COMMA_SOURCE_FILE_AT_LINE (81)) ;
      //-------- @terminalCheckInstructionForGeneration
      inCompiler->acceptTerminal (ACCEPT_TERMINAL (C_Lexique_api_5F_scanner::kToken_idf) COMMA_SOURCE_FILE_AT_LINE (82)) ;
      //-------- @terminalCheckInstructionForGeneration
      inCompiler->acceptTerminal (ACCEPT_TERMINAL (C_Lexique_api_5F_scanner::kToken__3B_) COMMA_SOURCE_FILE_AT_LINE (83)) ;
    } break ;
    default:
      repeatFlag_0 = false ;
      break ;
    }
  }
  //-------- @terminalCheckInstructionForGeneration
  inCompiler->acceptTerminal (ACCEPT_TERMINAL (C_Lexique_api_5F_scanner::kToken__7D_) COMMA_SOURCE_FILE_AT_LINE (90)) ;
  //-------- @terminalCheckInstructionForGeneration
  inCompiler->acceptTerminal (ACCEPT_TERMINAL (C_Lexique_api_5F_scanner::kToken__3B_) COMMA_SOURCE_FILE_AT_LINE (91)) ;
  inCompiler->resetTemplateString () ;
}

//--- START OF USER ZONE 2


//--- END OF USER ZONE 2


