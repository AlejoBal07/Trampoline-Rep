//---------------------------------------------------------------------------*
//                                                                           *
//                          File 'tasks_verif.cpp'                           *
//                 Generated by version GALGAS_BETA_VERSION                  *
//                      june 17th, 2010, at 18h54'31"                        *
//                                                                           *
//---------------------------------------------------------------------------*

//--- START OF USER ZONE 1


//--- END OF USER ZONE 1

#include "version_libpm.h"
#if CURRENT_LIBPM_VERSION != VERSION_OF_LIBPM_USED_BY_GALGAS_COMPILER
  #error "This file has been compiled with a version of GALGAS that uses libpm version VERSION_OF_LIBPM_USED_BY_GALGAS_COMPILER, different than the current version (CURRENT_LIBPM_VERSION) of libpm"
#endif

//---------------------------------------------------------------------------*

#include "tasks_verif.h"
#include "galgas-utilities/C_Compiler.h"
#include "galgas/C_galgas_CLI_Options.h"

//---------------------------------------------------------------------------*

#include "goil_options.h"

//---------------------------------------------------------------------------*

#ifndef DO_NOT_GENERATE_CHECKINGS
  #define SOURCE_FILE_AT_LINE(line) "tasks_verif.gSemantics", line
  #define COMMA_SOURCE_FILE_AT_LINE(line) , SOURCE_FILE_AT_LINE(line)
#else
  #define SOURCE_FILE_AT_LINE(line) 
  #define COMMA_SOURCE_FILE_AT_LINE(line) 
#endif

//---------------------------------------------------------------------------*
//                                                                           *
//                        Routine 'tasks_well_formed'                        *
//                                                                           *
//---------------------------------------------------------------------------*

void routine_tasks_5F_well_5F_formed (GALGASap_task_5F_map constinArgument_tasks,
                                      C_Compiler * inCompiler
                                      COMMA_UNUSED_LOCATION_ARGS) {
  //-------- @foreachInstructionForGeneration
  GALGAS_task_5F_map::cEnumerator enumerator_908 (constinArgument_tasks, true) ;
  //--- simple foreach instruction
  while (enumerator_908.hasCurrentObject ()) {
    enumerator_908.updateAttributeProxies () ;
    //-------- @structuredCastInstructionForGeneration
    //--- @readerCallExpressionForGeneration
    GALGASap_basic_5F_type temp_0 (enumerator_908.attribute_task.readerCall_priority (SOURCE_FILE_AT_LINE (50))) ;
    if (temp_0.isValid ()) {
      if (temp_0.ptr (HERE)->typeDescriptor () == & kTypeDescriptor_GALGAS_void) {
        //-------- @errorInstructionForGeneration
        //--- @concatExpressionForGeneration
        //--- @literalStringExpressionForGeneration
        GALGASap_string temp_1 ("PRIORITY attribute not defined for TASK " COMMA_SOURCE_FILE_AT_LINE (52)) ;
        //--- @readerCallExpressionForGeneration
        GALGASap_string temp_2 (enumerator_908.attribute_lkey.readerCall_string (SOURCE_FILE_AT_LINE (52))) ;
        GALGASap_string temp_3 (temp_1.operator_concat (temp_2 COMMA_SOURCE_FILE_AT_LINE (52))) ;
        GALGASap_location location_4 (enumerator_908.attribute_lkey.readerCall_location (HERE)) ; // Implicit use of 'location' reader
        inCompiler->emitSemanticError (location_4, temp_3 COMMA_SOURCE_FILE_AT_LINE (52)) ;
      }
    }
    //-------- @structuredCastInstructionForGeneration
    //--- @readerCallExpressionForGeneration
    GALGASap_basic_5F_type temp_5 (enumerator_908.attribute_task.readerCall_activation (SOURCE_FILE_AT_LINE (56))) ;
    if (temp_5.isValid ()) {
      if (temp_5.ptr (HERE)->typeDescriptor () == & kTypeDescriptor_GALGAS_void) {
        //-------- @errorInstructionForGeneration
        //--- @concatExpressionForGeneration
        //--- @literalStringExpressionForGeneration
        GALGASap_string temp_6 ("ACTIVATION attribute not defined for TASK " COMMA_SOURCE_FILE_AT_LINE (58)) ;
        //--- @readerCallExpressionForGeneration
        GALGASap_string temp_7 (enumerator_908.attribute_lkey.readerCall_string (SOURCE_FILE_AT_LINE (58))) ;
        GALGASap_string temp_8 (temp_6.operator_concat (temp_7 COMMA_SOURCE_FILE_AT_LINE (58))) ;
        GALGASap_location location_9 (enumerator_908.attribute_lkey.readerCall_location (HERE)) ; // Implicit use of 'location' reader
        inCompiler->emitSemanticError (location_9, temp_8 COMMA_SOURCE_FILE_AT_LINE (58)) ;
      }else if (temp_5.ptr (HERE)->typeDescriptor () == & kTypeDescriptor_GALGAS_uint_33__32__5F_class) {
      GALGASap_uint_33__32__5F_class cast_1281_ui = temp_5 ;
        //-------- @localVariableOrConstantDeclarationWithSourceExpressionForGeneration
        //--- @readerCallExpressionForGeneration
        GALGASap_lstringlist temp_10 (enumerator_908.attribute_task.readerCall_events (SOURCE_FILE_AT_LINE (60))) ;
        GALGASap_lstringlist var_defined_5F_events (temp_10) ;
        //-------- @ifInstructionForGeneration
        //--- @andExpressionForGeneration
        //--- @strictGreaterExpressionForGeneration
        //--- @readerCallExpressionForGeneration
        GALGASap_uint temp_11 (var_defined_5F_events.readerCall_length (SOURCE_FILE_AT_LINE (61))) ;
        //--- @literalUIntExpressionForGeneration
        GALGASap_uint temp_12 ((PMUInt32) 0U COMMA_SOURCE_FILE_AT_LINE (61)) ;
        GALGASap_bool temp_13 (kIsStrictSup, GALGASap_uint::objectCompare (temp_11, temp_12) COMMA_SOURCE_FILE_AT_LINE (61)) ;
        //--- @strictGreaterExpressionForGeneration
        //--- @readerCallExpressionForGeneration
        GALGASap_uint temp_14 (cast_1281_ui.readerCall_value (SOURCE_FILE_AT_LINE (61))) ;
        //--- @literalUIntExpressionForGeneration
        GALGASap_uint temp_15 ((PMUInt32) 1U COMMA_SOURCE_FILE_AT_LINE (61)) ;
        GALGASap_bool temp_16 (kIsStrictSup, GALGASap_uint::objectCompare (temp_14, temp_15) COMMA_SOURCE_FILE_AT_LINE (61)) ;
        GALGASap_bool temp_17 (temp_13.operator_and (temp_16 COMMA_SOURCE_FILE_AT_LINE (61))) ;
        if (isValidAndTrue (temp_17)) {
          //-------- @errorInstructionForGeneration
          //--- @concatExpressionForGeneration
          //--- @concatExpressionForGeneration
          //--- @literalStringExpressionForGeneration
          GALGASap_string temp_18 ("ACTIVATION attribute for extended task " COMMA_SOURCE_FILE_AT_LINE (62)) ;
          //--- @readerCallExpressionForGeneration
          GALGASap_string temp_19 (enumerator_908.attribute_lkey.readerCall_string (SOURCE_FILE_AT_LINE (62))) ;
          GALGASap_string temp_20 (temp_18.operator_concat (temp_19 COMMA_SOURCE_FILE_AT_LINE (62))) ;
          //--- @literalStringExpressionForGeneration
          GALGASap_string temp_21 (" should be set to 1" COMMA_SOURCE_FILE_AT_LINE (62)) ;
          GALGASap_string temp_22 (temp_20.operator_concat (temp_21 COMMA_SOURCE_FILE_AT_LINE (62))) ;
          GALGASap_location location_23 (enumerator_908.attribute_lkey.readerCall_location (HERE)) ; // Implicit use of 'location' reader
          inCompiler->emitSemanticError (location_23, temp_22 COMMA_SOURCE_FILE_AT_LINE (62)) ;
          //-------- @errorInstructionForGeneration
          //--- @readerCallExpressionForGeneration
          GALGASap_location temp_24 (cast_1281_ui.readerCall_location (SOURCE_FILE_AT_LINE (63))) ;
          //--- @concatExpressionForGeneration
          //--- @concatExpressionForGeneration
          //--- @literalStringExpressionForGeneration
          GALGASap_string temp_25 ("ACTIVATION attribute set to " COMMA_SOURCE_FILE_AT_LINE (63)) ;
          //--- @readerCallExpressionForGeneration
          //--- @readerCallExpressionForGeneration
          GALGASap_uint temp_26 (cast_1281_ui.readerCall_value (SOURCE_FILE_AT_LINE (63))) ;
          GALGASap_string temp_27 (temp_26.readerCall_string (SOURCE_FILE_AT_LINE (63))) ;
          GALGASap_string temp_28 (temp_25.operator_concat (temp_27 COMMA_SOURCE_FILE_AT_LINE (63))) ;
          //--- @literalStringExpressionForGeneration
          GALGASap_string temp_29 (" here" COMMA_SOURCE_FILE_AT_LINE (63)) ;
          GALGASap_string temp_30 (temp_28.operator_concat (temp_29 COMMA_SOURCE_FILE_AT_LINE (63))) ;
          inCompiler->emitSemanticError (temp_24, temp_30 COMMA_SOURCE_FILE_AT_LINE (63)) ;
        }
      }else{
        //-------- @errorInstructionForGeneration
        GALGASap_location temp_31 (inCompiler->here (SOURCE_FILE_AT_LINE (66))) ;
        //--- @concatExpressionForGeneration
        //--- @literalStringExpressionForGeneration
        GALGASap_string temp_32 ("Internal error, wrong datatype for ACTIVATION in task " COMMA_SOURCE_FILE_AT_LINE (66)) ;
        //--- @readerCallExpressionForGeneration
        GALGASap_string temp_33 (enumerator_908.attribute_lkey.readerCall_string (SOURCE_FILE_AT_LINE (66))) ;
        GALGASap_string temp_34 (temp_32.operator_concat (temp_33 COMMA_SOURCE_FILE_AT_LINE (66))) ;
        inCompiler->emitSemanticError (temp_31, temp_34 COMMA_SOURCE_FILE_AT_LINE (66)) ;
      }
    }
    //-------- @ifInstructionForGeneration
    //--- @equalExpressionForGeneration
    //--- @readerCallExpressionForGeneration
    //--- @readerCallExpressionForGeneration
    GALGASap_lstring temp_35 (enumerator_908.attribute_task.readerCall_schedule (SOURCE_FILE_AT_LINE (69))) ;
    GALGASap_string temp_36 (temp_35.readerCall_string (SOURCE_FILE_AT_LINE (69))) ;
    //--- @literalStringExpressionForGeneration
    GALGASap_string temp_37 ("" COMMA_SOURCE_FILE_AT_LINE (69)) ;
    GALGASap_bool temp_38 (kIsEqual, GALGASap_string::objectCompare (temp_36, temp_37) COMMA_SOURCE_FILE_AT_LINE (69)) ;
    if (isValidAndTrue (temp_38)) {
      //-------- @errorInstructionForGeneration
      //--- @concatExpressionForGeneration
      //--- @literalStringExpressionForGeneration
      GALGASap_string temp_39 ("SCHEDULE attribute not defined for TASK " COMMA_SOURCE_FILE_AT_LINE (70)) ;
      //--- @readerCallExpressionForGeneration
      GALGASap_string temp_40 (enumerator_908.attribute_lkey.readerCall_string (SOURCE_FILE_AT_LINE (70))) ;
      GALGASap_string temp_41 (temp_39.operator_concat (temp_40 COMMA_SOURCE_FILE_AT_LINE (70))) ;
      GALGASap_location location_42 (enumerator_908.attribute_lkey.readerCall_location (HERE)) ; // Implicit use of 'location' reader
      inCompiler->emitSemanticError (location_42, temp_41 COMMA_SOURCE_FILE_AT_LINE (70)) ;
    }
    //-------- @structuredCastInstructionForGeneration
    //--- @readerCallExpressionForGeneration
    GALGASap_task_5F_autostart_5F_obj temp_43 (enumerator_908.attribute_task.readerCall_autostart (SOURCE_FILE_AT_LINE (73))) ;
    if (temp_43.isValid ()) {
      if (temp_43.ptr (HERE)->typeDescriptor () == & kTypeDescriptor_GALGAS_task_5F_autostart_5F_void) {
        //-------- @errorInstructionForGeneration
        //--- @concatExpressionForGeneration
        //--- @literalStringExpressionForGeneration
        GALGASap_string temp_44 ("AUTOSTART attribute not defined for TASK " COMMA_SOURCE_FILE_AT_LINE (75)) ;
        //--- @readerCallExpressionForGeneration
        GALGASap_string temp_45 (enumerator_908.attribute_lkey.readerCall_string (SOURCE_FILE_AT_LINE (75))) ;
        GALGASap_string temp_46 (temp_44.operator_concat (temp_45 COMMA_SOURCE_FILE_AT_LINE (75))) ;
        GALGASap_location location_47 (enumerator_908.attribute_lkey.readerCall_location (HERE)) ; // Implicit use of 'location' reader
        inCompiler->emitSemanticError (location_47, temp_46 COMMA_SOURCE_FILE_AT_LINE (75)) ;
      }
    }
    enumerator_908.next() ;
  }
}

//--- START OF USER ZONE 2


//--- END OF USER ZONE 2


