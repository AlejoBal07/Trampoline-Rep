//---------------------------------------------------------------------------*
//                                                                           *
//                        File 'template_parser.cpp'                         *
//                        Generated by version 1.9.9                         *
//                     february 19th, 2010, at 10h2'17"                      *
//                                                                           *
//---------------------------------------------------------------------------*

//--- START OF USER ZONE 1


//--- END OF USER ZONE 1

//---------------------------------------------------------------------------*

#include "version_libpm.h"
#if LIBPM_VERSION != 647
  #error "This file has been compiled with a version of GALGAS different than the version of libpm"
#endif

//---------------------------------------------------------------------------*

#include <typeinfo>
#include "utilities/MF_MemoryControl.h"
#include "files/C_TextFileWrite.h"
#include "galgas/C_galgas_CLI_Options.h"
#include "template_parser.h"

//---------------------------------------------------------------------------*

#ifndef DO_NOT_GENERATE_CHECKINGS
  #define SOURCE_FILE_AT_LINE(line) "template_parser.ggs", line
  #define COMMA_SOURCE_FILE_AT_LINE(line) , SOURCE_FILE_AT_LINE(line)
#else
  #define SOURCE_FILE_AT_LINE(line) 
  #define COMMA_SOURCE_FILE_AT_LINE(line) 
#endif


//--- START OF USER ZONE 2


//--- END OF USER ZONE 2

//---------------------------------------------------------------------------*
//                                                                           *
//         Implementation of production rule 'template_instruction'          *
//                                                                           *
//---------------------------------------------------------------------------*

void template_parser::
pr_template_instruction_template_parser_72_27_ (template_scanner & inLexique,
                                const GGS_string var_cas_inPrefix,
                                const GGS_string var_cas_inPath,
                                const GGS_string var_cas_inTemplateDirectory,
                                GGS_goilTemplateVariableMap  &var_cas_ioTemplateVariableMap,
                                GGS_string &var_cas_ioResultingString) {
  inLexique.acceptTerminal (ACCEPT_TERMINAL (template_scanner::template_scanner_1__21_) COMMA_HERE) ;
  GGS_goilTemplateValue var_cas_expression ;
  GGS_goilTemplateType var_cas_resultType ;
  nt_expression_ (inLexique, var_cas_inPrefix, var_cas_inPath, var_cas_inTemplateDirectory, var_cas_ioTemplateVariableMap, var_cas_expression, var_cas_resultType) ;
  switch (var_cas_resultType.enumValue ()) {
  case GGS_goilTemplateType::enum_stringType:
    {
    var_cas_ioResultingString.dotAssign_operation (var_cas_expression.reader_mStringValue (inLexique COMMA_SOURCE_FILE_AT_LINE (92))) ;
    }
    break ;
  case GGS_goilTemplateType::enum_unsignedType:
    {
    var_cas_ioResultingString.dotAssign_operation (var_cas_expression.reader_mUnsigned64Value (inLexique COMMA_SOURCE_FILE_AT_LINE (94)).reader_string (inLexique COMMA_SOURCE_FILE_AT_LINE (94))) ;
    }
    break ;
  case GGS_goilTemplateType::enum_boolType:
    {
    const GGS_bool cond_3342 = (var_cas_expression.reader_mUnsigned64Value (inLexique COMMA_SOURCE_FILE_AT_LINE (96))).operator_isEqual (GGS_uint64 (0ULL)) ;
    if (cond_3342.isBuiltAndTrue ()) {
      var_cas_ioResultingString.appendCString ("false") ;
    }else if (cond_3342.isBuiltAndFalse ()) {
      var_cas_ioResultingString.appendCString ("true") ;
    }
    }
    break ;
  case GGS_goilTemplateType::enum_listType:
    {
    GGS_location (inLexique).reader_location (inLexique COMMA_HERE).signalGGSSemanticError (inLexique, GGS_string ("a list expression cannot be emitted") COMMA_SOURCE_FILE_AT_LINE (103)) ;
    }
    break ;
  case GGS_goilTemplateType::kNotBuilt:
    break ;
  }
}

//---------------------------------------------------------------------------*

void template_parser::
pr_template_instruction_template_parser_72_27_parse (template_scanner & inLexique) {
  inLexique.acceptTerminal (ACCEPT_TERMINAL (template_scanner::template_scanner_1__21_) COMMA_HERE) ;
  nt_expression_parse (inLexique) ;
  GGS_lstring::constructor_retrieveAndResetTemplateString (inLexique COMMA_HERE) ;
}

//---------------------------------------------------------------------------*
//                                                                           *
//         Implementation of production rule 'template_instruction'          *
//                                                                           *
//---------------------------------------------------------------------------*

void template_parser::
pr_template_instruction_template_parser_108_27_ (template_scanner & inLexique,
                                const GGS_string var_cas_inPrefix,
                                const GGS_string var_cas_inPath,
                                const GGS_string var_cas_inTemplateDirectory,
                                GGS_goilTemplateVariableMap  &var_cas_ioTemplateVariableMap,
                                GGS_string &/* var_cas_ioResultingString */) {
  GGS_bool var_cas_fileNameOk = GGS_bool (true) ;
  inLexique.acceptTerminal (ACCEPT_TERMINAL (template_scanner::template_scanner_1_write) COMMA_HERE) ;
  inLexique.acceptTerminal (ACCEPT_TERMINAL (template_scanner::template_scanner_1_to) COMMA_HERE) ;
  GGS_goilTemplateValue var_cas_expression ;
  GGS_goilTemplateType var_cas_expressionType ;
  GGS_goilTemplateVariableMap  var_cas_templateVariableMap = var_cas_ioTemplateVariableMap ;
  nt_expression_ (inLexique, var_cas_inPrefix, var_cas_inPath, var_cas_inTemplateDirectory, var_cas_ioTemplateVariableMap, var_cas_expression, var_cas_expressionType) ;
  const GGS_bool cond_4209 = var_cas_templateVariableMap.reader_hasKey (GGS_string ("FILENAME")) ;
  if (cond_4209.isBuiltAndTrue ()) {
    GGS_goilTemplateType automatic_var_4202_0 ;
    GGS_goilTemplateValue automatic_var_4202_1 ;
    var_cas_templateVariableMap.modifier_removeKey (inLexique, function_lstringWith (inLexique, GGS_string ("FILENAME") COMMA_SOURCE_FILE_AT_LINE (129)), automatic_var_4202_0, automatic_var_4202_1 COMMA_SOURCE_FILE_AT_LINE (129)) ;
  }
  const GGS_bool cond_4341 = var_cas_templateVariableMap.reader_hasKey (GGS_string ("FILEPATH")) ;
  if (cond_4341.isBuiltAndTrue ()) {
    GGS_goilTemplateType automatic_var_4334_0 ;
    GGS_goilTemplateValue automatic_var_4334_1 ;
    var_cas_templateVariableMap.modifier_removeKey (inLexique, function_lstringWith (inLexique, GGS_string ("FILEPATH") COMMA_SOURCE_FILE_AT_LINE (132)), automatic_var_4334_0, automatic_var_4334_1 COMMA_SOURCE_FILE_AT_LINE (132)) ;
  }
  GGS_goilTemplateValue var_cas_fileName = GGS_goilTemplateValue::constructor_new (GGS_uint64 (0ULL), var_cas_expression.reader_mStringValue (inLexique COMMA_SOURCE_FILE_AT_LINE (134)).reader_lastPathComponent (), GGS_goilTemplateFieldMapList ::constructor_emptyList ()) ;
  GGS_goilTemplateValue var_cas_nativeFilePath = GGS_goilTemplateValue::constructor_new (GGS_uint64 (0ULL), var_cas_expression.reader_mStringValue (inLexique COMMA_SOURCE_FILE_AT_LINE (135)).reader_nativePathWithUnixPath (), GGS_goilTemplateFieldMapList ::constructor_emptyList ()) ;
  var_cas_templateVariableMap.modifier_insertKey (inLexique, function_lstringWith (inLexique, GGS_string ("FILENAME") COMMA_SOURCE_FILE_AT_LINE (136)), var_cas_expressionType, var_cas_fileName COMMA_SOURCE_FILE_AT_LINE (136)) ;
  var_cas_templateVariableMap.modifier_insertKey (inLexique, function_lstringWith (inLexique, GGS_string ("FILEPATH") COMMA_SOURCE_FILE_AT_LINE (137)), var_cas_expressionType, var_cas_nativeFilePath COMMA_SOURCE_FILE_AT_LINE (137)) ;
  GGS_location  var_cas_fileNameLocation = GGS_location (inLexique) ;
  const GGS_bool cond_5026 = (var_cas_expressionType).operator_isNotEqual (GGS_goilTemplateType::constructor_stringType (inLexique COMMA_HERE)) ;
  if (cond_5026.isBuiltAndTrue ()) {
    GGS_location (inLexique).reader_location (inLexique COMMA_HERE).signalGGSSemanticError (inLexique, GGS_string ("a file name should be of type string") COMMA_SOURCE_FILE_AT_LINE (141)) ;
    var_cas_fileNameOk = GGS_bool (false) ;
  }
  inLexique.acceptTerminal (ACCEPT_TERMINAL (template_scanner::template_scanner_1__3A_) COMMA_HERE) ;
  GGS_string var_cas_writeBlockResult = GGS_string ("") ;
  nt_template_instruction_list_ (inLexique, var_cas_inPrefix, var_cas_inPath, var_cas_inTemplateDirectory, var_cas_templateVariableMap, var_cas_writeBlockResult) ;
  const GGS_bool cond_5337 = (var_cas_fileNameOk).operator_and ((GGS_uint ::constructor_errorCount (inLexique COMMA_HERE)).operator_isEqual (GGS_uint (0U))) ;
  if (cond_5337.isBuiltAndTrue ()) {
    const GGS_string temp_5302 = var_cas_writeBlockResult ;
    if (temp_5302.isBuilt ()) {
      temp_5302 (HERE)->method_makeDirectoryAndWriteToFile (inLexique, var_cas_expression.reader_mStringValue (inLexique COMMA_SOURCE_FILE_AT_LINE (153)) COMMA_SOURCE_FILE_AT_LINE (153)) ;
    }
  }
  inLexique.acceptTerminal (ACCEPT_TERMINAL (template_scanner::template_scanner_1_end) COMMA_HERE) ;
  inLexique.acceptTerminal (ACCEPT_TERMINAL (template_scanner::template_scanner_1_write) COMMA_HERE) ;
}

//---------------------------------------------------------------------------*

void template_parser::
pr_template_instruction_template_parser_108_27_parse (template_scanner & inLexique) {
  inLexique.acceptTerminal (ACCEPT_TERMINAL (template_scanner::template_scanner_1_write) COMMA_HERE) ;
  inLexique.acceptTerminal (ACCEPT_TERMINAL (template_scanner::template_scanner_1_to) COMMA_HERE) ;
  nt_expression_parse (inLexique) ;
  inLexique.acceptTerminal (ACCEPT_TERMINAL (template_scanner::template_scanner_1__3A_) COMMA_HERE) ;
  nt_template_instruction_list_parse (inLexique) ;
  inLexique.acceptTerminal (ACCEPT_TERMINAL (template_scanner::template_scanner_1_end) COMMA_HERE) ;
  inLexique.acceptTerminal (ACCEPT_TERMINAL (template_scanner::template_scanner_1_write) COMMA_HERE) ;
  GGS_lstring::constructor_retrieveAndResetTemplateString (inLexique COMMA_HERE) ;
}

//---------------------------------------------------------------------------*
//                                                                           *
//         Implementation of production rule 'template_instruction'          *
//                                                                           *
//---------------------------------------------------------------------------*

void template_parser::
pr_template_instruction_template_parser_160_27_ (template_scanner & inLexique,
                                const GGS_string var_cas_inPrefix,
                                const GGS_string var_cas_inPath,
                                const GGS_string var_cas_inTemplateDirectory,
                                GGS_goilTemplateVariableMap  &var_cas_ioTemplateVariableMap,
                                GGS_string &var_cas_ioResultingString) {
  GGS_string var_cas_nextPrefix = var_cas_inPrefix ;
  inLexique.acceptTerminal (ACCEPT_TERMINAL (template_scanner::template_scanner_1_template) COMMA_HERE) ;
  switch (select_template_parser_0 (inLexique)) {
    case 1 : {
      inLexique.acceptTerminal (ACCEPT_TERMINAL (template_scanner::template_scanner_1_if) COMMA_HERE) ;
      inLexique.acceptTerminal (ACCEPT_TERMINAL (template_scanner::template_scanner_1_exists) COMMA_HERE) ;
      GGS_lstring  var_cas_templateName ;
      inLexique.assignFromAttribute_tokenString (var_cas_templateName) ;
      inLexique.acceptTerminal (ACCEPT_TERMINAL (template_scanner::template_scanner_1_identifier) COMMA_HERE) ;
      GGS_bool var_cas_found ;
      switch (select_template_parser_1 (inLexique)) {
        case 1 : {
          inLexique.acceptTerminal (ACCEPT_TERMINAL (template_scanner::template_scanner_1_in) COMMA_HERE) ;
          GGS_lstring  var_cas_prefix ;
          inLexique.assignFromAttribute_tokenString (var_cas_prefix) ;
          inLexique.acceptTerminal (ACCEPT_TERMINAL (template_scanner::template_scanner_1_identifier) COMMA_HERE) ;
          var_cas_nextPrefix = function_fullPrefix (inLexique, var_cas_ioTemplateVariableMap, var_cas_prefix COMMA_SOURCE_FILE_AT_LINE (175)) ;
          } break ;
        case 2 : {
          } break ;
        default :
          break ;
      }
      ::routine_goilTemplateInvocation (inLexique,  var_cas_templateName,  var_cas_nextPrefix,  var_cas_inPath,  var_cas_inTemplateDirectory,  GGS_bool (false),  var_cas_ioTemplateVariableMap,  var_cas_ioResultingString,  var_cas_found COMMA_SOURCE_FILE_AT_LINE (178)) ;
      switch (select_template_parser_2 (inLexique)) {
        case 1 : {
          inLexique.acceptTerminal (ACCEPT_TERMINAL (template_scanner::template_scanner_1_or) COMMA_HERE) ;
          if (((var_cas_found).operator_not ()).isBuiltAndTrue ()) {
            GGS_goilTemplateVariableMap  var_cas_templateVariableMap = GGS_goilTemplateVariableMap ::constructor_mapWithMapToOverride (inLexique, var_cas_ioTemplateVariableMap COMMA_HERE) ;
            nt_template_instruction_list_ (inLexique, var_cas_nextPrefix, var_cas_inPath, var_cas_inTemplateDirectory, var_cas_templateVariableMap, var_cas_ioResultingString) ;
            var_cas_ioTemplateVariableMap = var_cas_templateVariableMap.reader_overriddenMap (inLexique COMMA_SOURCE_FILE_AT_LINE (200)) ;
          }else{
            nt_template_instruction_list_parseAndResetTemplateString (inLexique) ;
          }
          inLexique.acceptTerminal (ACCEPT_TERMINAL (template_scanner::template_scanner_1_end) COMMA_HERE) ;
          inLexique.acceptTerminal (ACCEPT_TERMINAL (template_scanner::template_scanner_1_template) COMMA_HERE) ;
          } break ;
        case 2 : {
          } break ;
        default :
          break ;
      }
      } break ;
    case 2 : {
      GGS_lstring  var_cas_templateName ;
      inLexique.assignFromAttribute_tokenString (var_cas_templateName) ;
      inLexique.acceptTerminal (ACCEPT_TERMINAL (template_scanner::template_scanner_1_identifier) COMMA_HERE) ;
      switch (select_template_parser_3 (inLexique)) {
        case 1 : {
          inLexique.acceptTerminal (ACCEPT_TERMINAL (template_scanner::template_scanner_1_in) COMMA_HERE) ;
          GGS_lstring  var_cas_prefix ;
          inLexique.assignFromAttribute_tokenString (var_cas_prefix) ;
          inLexique.acceptTerminal (ACCEPT_TERMINAL (template_scanner::template_scanner_1_identifier) COMMA_HERE) ;
          var_cas_nextPrefix = function_fullPrefix (inLexique, var_cas_ioTemplateVariableMap, var_cas_prefix COMMA_SOURCE_FILE_AT_LINE (211)) ;
          } break ;
        case 2 : {
          } break ;
        default :
          break ;
      }
      GGS_bool automatic_var_7038_0 ;
      ::routine_goilTemplateInvocation (inLexique,  var_cas_templateName,  var_cas_nextPrefix,  var_cas_inPath,  var_cas_inTemplateDirectory,  GGS_bool (true),  var_cas_ioTemplateVariableMap,  var_cas_ioResultingString,  automatic_var_7038_0 COMMA_SOURCE_FILE_AT_LINE (214)) ;
      } break ;
    default :
      break ;
  }
}

//---------------------------------------------------------------------------*

void template_parser::
pr_template_instruction_template_parser_160_27_parse (template_scanner & inLexique) {
  inLexique.acceptTerminal (ACCEPT_TERMINAL (template_scanner::template_scanner_1_template) COMMA_HERE) ;
  switch (select_template_parser_0 (inLexique)) {
    case 1 : {
      inLexique.acceptTerminal (ACCEPT_TERMINAL (template_scanner::template_scanner_1_if) COMMA_HERE) ;
      inLexique.acceptTerminal (ACCEPT_TERMINAL (template_scanner::template_scanner_1_exists) COMMA_HERE) ;
      inLexique.acceptTerminal (ACCEPT_TERMINAL (template_scanner::template_scanner_1_identifier) COMMA_HERE) ;
      switch (select_template_parser_1 (inLexique)) {
        case 1 : {
          inLexique.acceptTerminal (ACCEPT_TERMINAL (template_scanner::template_scanner_1_in) COMMA_HERE) ;
          inLexique.acceptTerminal (ACCEPT_TERMINAL (template_scanner::template_scanner_1_identifier) COMMA_HERE) ;
          } break ;
        case 2 : {
          } break ;
        default :
          break ;
      }
      switch (select_template_parser_2 (inLexique)) {
        case 1 : {
          inLexique.acceptTerminal (ACCEPT_TERMINAL (template_scanner::template_scanner_1_or) COMMA_HERE) ;
            nt_template_instruction_list_parse (inLexique) ;
          inLexique.acceptTerminal (ACCEPT_TERMINAL (template_scanner::template_scanner_1_end) COMMA_HERE) ;
          inLexique.acceptTerminal (ACCEPT_TERMINAL (template_scanner::template_scanner_1_template) COMMA_HERE) ;
          } break ;
        case 2 : {
          } break ;
        default :
          break ;
      }
      } break ;
    case 2 : {
      inLexique.acceptTerminal (ACCEPT_TERMINAL (template_scanner::template_scanner_1_identifier) COMMA_HERE) ;
      switch (select_template_parser_3 (inLexique)) {
        case 1 : {
          inLexique.acceptTerminal (ACCEPT_TERMINAL (template_scanner::template_scanner_1_in) COMMA_HERE) ;
          inLexique.acceptTerminal (ACCEPT_TERMINAL (template_scanner::template_scanner_1_identifier) COMMA_HERE) ;
          } break ;
        case 2 : {
          } break ;
        default :
          break ;
      }
      } break ;
    default :
      break ;
  }
  GGS_lstring::constructor_retrieveAndResetTemplateString (inLexique COMMA_HERE) ;
}

//---------------------------------------------------------------------------*
//                                                                           *
//         Implementation of production rule 'template_instruction'          *
//                                                                           *
//---------------------------------------------------------------------------*

void template_parser::
pr_template_instruction_template_parser_229_27_ (template_scanner & inLexique,
                                const GGS_string /* var_cas_inPrefix */,
                                const GGS_string /* var_cas_inPath */,
                                const GGS_string /* var_cas_inTemplateDirectory */,
                                GGS_goilTemplateVariableMap  &var_cas_ioTemplateVariableMap,
                                GGS_string &var_cas_ioResultingString) {
  inLexique.acceptTerminal (ACCEPT_TERMINAL (template_scanner::template_scanner_1__3F_) COMMA_HERE) ;
  GGS_lstring  var_cas_columnConstantName ;
  inLexique.assignFromAttribute_tokenString (var_cas_columnConstantName) ;
  inLexique.acceptTerminal (ACCEPT_TERMINAL (template_scanner::template_scanner_1_identifier) COMMA_HERE) ;
  GGS_string var_cas_value = GGS_string ("") ;
  GGS_bool var_cas_searchEndOfLine = GGS_bool (true) ;
  GGS_uint  var_cas_idx = var_cas_ioResultingString.reader_length () ;
  GGS_uint _variant_7731 = var_cas_ioResultingString.reader_length () ;
  GGS_bool _condition_7731 (_variant_7731.isBuilt (), true) ;
  while (_condition_7731.isBuiltAndTrue ()) {
    _condition_7731 = ((var_cas_idx).operator_strictSup (GGS_uint (0U))).operator_and (var_cas_searchEndOfLine) ;
    if (_condition_7731.isBuiltAndTrue ()) {
      if (_variant_7731.uintValue () == 0) {
        inLexique.onTheFlyRunTimeError ("loop variant error" COMMA_SOURCE_FILE_AT_LINE (249)) ;
        _condition_7731 = GGS_bool (false) ;
      }else{
        _variant_7731.decrement_operation (inLexique COMMA_HERE) ;
        var_cas_searchEndOfLine = (var_cas_ioResultingString.reader_characterAtIndex (inLexique, var_cas_idx.substract_operation (inLexique, GGS_uint (1U) COMMA_SOURCE_FILE_AT_LINE (244)) COMMA_SOURCE_FILE_AT_LINE (244))).operator_isNotEqual (GGS_char (TO_UNICODE ('\n'))) ;
        var_cas_idx.decrement_operation (inLexique COMMA_SOURCE_FILE_AT_LINE (245)) ;
        const GGS_bool cond_7721 = var_cas_searchEndOfLine ;
        if (cond_7721.isBuiltAndTrue ()) {
          var_cas_value.appendCString (" ") ;
        }
      }
    }
  }
  var_cas_ioTemplateVariableMap.modifier_insertKey (inLexique, var_cas_columnConstantName, GGS_goilTemplateType::constructor_stringType (inLexique COMMA_HERE), GGS_goilTemplateValue::constructor_new (GGS_uint64 (0ULL), var_cas_value, GGS_goilTemplateFieldMapList ::constructor_emptyList ()) COMMA_SOURCE_FILE_AT_LINE (250)) ;
}

//---------------------------------------------------------------------------*

void template_parser::
pr_template_instruction_template_parser_229_27_parse (template_scanner & inLexique) {
  inLexique.acceptTerminal (ACCEPT_TERMINAL (template_scanner::template_scanner_1__3F_) COMMA_HERE) ;
  inLexique.acceptTerminal (ACCEPT_TERMINAL (template_scanner::template_scanner_1_identifier) COMMA_HERE) ;
  GGS_lstring::constructor_retrieveAndResetTemplateString (inLexique COMMA_HERE) ;
}

//---------------------------------------------------------------------------*
//                                                                           *
//         Implementation of production rule 'template_instruction'          *
//                                                                           *
//---------------------------------------------------------------------------*

void template_parser::
pr_template_instruction_template_parser_305_27_ (template_scanner & inLexique,
                                const GGS_string var_cas_inPrefix,
                                const GGS_string var_cas_inPath,
                                const GGS_string var_cas_inTemplateDirectory,
                                GGS_goilTemplateVariableMap  &var_cas_ioTemplateVariableMap,
                                GGS_string &var_cas_ioResultingString) {
  inLexique.acceptTerminal (ACCEPT_TERMINAL (template_scanner::template_scanner_1_if) COMMA_HERE) ;
  GGS_bool var_cas_currentCondition = GGS_bool (false) ;
  { bool syntaxRepeat_4 = true ;
    while (syntaxRepeat_4) {
        if (((var_cas_currentCondition).operator_not ()).isBuiltAndTrue ()) {
          GGS_goilTemplateValue var_cas_expression ;
          GGS_goilTemplateType var_cas_expressionType ;
          nt_expression_ (inLexique, var_cas_inPrefix, var_cas_inPath, var_cas_inTemplateDirectory, var_cas_ioTemplateVariableMap, var_cas_expression, var_cas_expressionType) ;
          const GGS_bool cond_9973 = (var_cas_expressionType).operator_isNotEqual (GGS_goilTemplateType::constructor_boolType (inLexique COMMA_HERE)) ;
          if (cond_9973.isBuiltAndTrue ()) {
            GGS_location (inLexique).reader_location (inLexique COMMA_HERE).signalGGSSemanticError (inLexique, GGS_string ("the operand of the 'not' operator should be boolean") COMMA_SOURCE_FILE_AT_LINE (329)) ;
          }
          var_cas_currentCondition = (var_cas_expression.reader_mUnsigned64Value (inLexique COMMA_SOURCE_FILE_AT_LINE (330))).operator_isEqual (GGS_uint64 (1ULL)) ;
          inLexique.acceptTerminal (ACCEPT_TERMINAL (template_scanner::template_scanner_1_then) COMMA_HERE) ;
          if ((var_cas_currentCondition).isBuiltAndTrue ()) {
            GGS_goilTemplateVariableMap  var_cas_templateVariableMap = GGS_goilTemplateVariableMap ::constructor_mapWithMapToOverride (inLexique, var_cas_ioTemplateVariableMap COMMA_HERE) ;
            nt_template_instruction_list_ (inLexique, var_cas_inPrefix, var_cas_inPath, var_cas_inTemplateDirectory, var_cas_templateVariableMap, var_cas_ioResultingString) ;
            var_cas_ioTemplateVariableMap = var_cas_templateVariableMap.reader_overriddenMap (inLexique COMMA_SOURCE_FILE_AT_LINE (342)) ;
          }else{
            nt_template_instruction_list_parseAndResetTemplateString (inLexique) ;
          }
        }else{
          nt_expression_parse (inLexique) ;
          inLexique.acceptTerminal (ACCEPT_TERMINAL (template_scanner::template_scanner_1_then) COMMA_HERE) ;
          nt_template_instruction_list_parseAndResetTemplateString (inLexique) ;
        }
      switch (select_template_parser_4 (inLexique)) {
        case 2 : {
          inLexique.acceptTerminal (ACCEPT_TERMINAL (template_scanner::template_scanner_1_elsif) COMMA_HERE) ;
          } break ;
        default :
          syntaxRepeat_4 = false ;
          break ;
      }
    }
  }
  switch (select_template_parser_5 (inLexique)) {
    case 1 : {
      } break ;
    case 2 : {
      inLexique.acceptTerminal (ACCEPT_TERMINAL (template_scanner::template_scanner_1_else) COMMA_HERE) ;
      if (((var_cas_currentCondition).operator_not ()).isBuiltAndTrue ()) {
        GGS_goilTemplateVariableMap  var_cas_templateVariableMap = GGS_goilTemplateVariableMap ::constructor_mapWithMapToOverride (inLexique, var_cas_ioTemplateVariableMap COMMA_HERE) ;
        nt_template_instruction_list_ (inLexique, var_cas_inPrefix, var_cas_inPath, var_cas_inTemplateDirectory, var_cas_templateVariableMap, var_cas_ioResultingString) ;
        var_cas_ioTemplateVariableMap = var_cas_templateVariableMap.reader_overriddenMap (inLexique COMMA_SOURCE_FILE_AT_LINE (368)) ;
      }else{
        nt_template_instruction_list_parseAndResetTemplateString (inLexique) ;
      }
      } break ;
    default :
      break ;
  }
  inLexique.acceptTerminal (ACCEPT_TERMINAL (template_scanner::template_scanner_1_end) COMMA_HERE) ;
  inLexique.acceptTerminal (ACCEPT_TERMINAL (template_scanner::template_scanner_1_if) COMMA_HERE) ;
}

//---------------------------------------------------------------------------*

void template_parser::
pr_template_instruction_template_parser_305_27_parse (template_scanner & inLexique) {
  inLexique.acceptTerminal (ACCEPT_TERMINAL (template_scanner::template_scanner_1_if) COMMA_HERE) ;
  { bool syntaxRepeat_4 = true ;
    while (syntaxRepeat_4) {
          nt_expression_parse (inLexique) ;
          inLexique.acceptTerminal (ACCEPT_TERMINAL (template_scanner::template_scanner_1_then) COMMA_HERE) ;
          nt_template_instruction_list_parse (inLexique) ;
      switch (select_template_parser_4 (inLexique)) {
        case 2 : {
          inLexique.acceptTerminal (ACCEPT_TERMINAL (template_scanner::template_scanner_1_elsif) COMMA_HERE) ;
          } break ;
        default :
          syntaxRepeat_4 = false ;
          break ;
      }
    }
  }
  switch (select_template_parser_5 (inLexique)) {
    case 1 : {
      } break ;
    case 2 : {
      inLexique.acceptTerminal (ACCEPT_TERMINAL (template_scanner::template_scanner_1_else) COMMA_HERE) ;
        nt_template_instruction_list_parse (inLexique) ;
      } break ;
    default :
      break ;
  }
  inLexique.acceptTerminal (ACCEPT_TERMINAL (template_scanner::template_scanner_1_end) COMMA_HERE) ;
  inLexique.acceptTerminal (ACCEPT_TERMINAL (template_scanner::template_scanner_1_if) COMMA_HERE) ;
  GGS_lstring::constructor_retrieveAndResetTemplateString (inLexique COMMA_HERE) ;
}

//---------------------------------------------------------------------------*
//                                                                           *
//      Implementation of production rule 'template_instruction_list'        *
//                                                                           *
//---------------------------------------------------------------------------*

void template_parser::
pr_template_instruction_list_template_parser_380_33_ (template_scanner & inLexique,
                                const GGS_string var_cas_inPrefix,
                                const GGS_string var_cas_inPath,
                                const GGS_string var_cas_inTemplateDirectory,
                                GGS_goilTemplateVariableMap  &var_cas_ioTemplateVariableMap,
                                GGS_string &var_cas_ioResultingString) {
  var_cas_ioResultingString.dotAssign_operation (GGS_lstring ::constructor_retrieveAndResetTemplateString (inLexique COMMA_HERE).ggs_string ()) ;
  { bool syntaxRepeat_6 = true ;
    while (syntaxRepeat_6) {
      switch (select_template_parser_6 (inLexique)) {
        case 2 : {
          nt_template_instruction_ (inLexique, var_cas_inPrefix, var_cas_inPath, var_cas_inTemplateDirectory, var_cas_ioTemplateVariableMap, var_cas_ioResultingString) ;
          var_cas_ioResultingString.dotAssign_operation (GGS_lstring ::constructor_retrieveAndResetTemplateString (inLexique COMMA_HERE).ggs_string ()) ;
          } break ;
        default :
          syntaxRepeat_6 = false ;
          break ;
      }
    }
  }
}

//---------------------------------------------------------------------------*

void template_parser::
pr_template_instruction_list_template_parser_380_33_parseAndResetTemplateString (template_scanner & inLexique) {
  { bool syntaxRepeat_6 = true ;
    while (syntaxRepeat_6) {
      switch (select_template_parser_6 (inLexique)) {
        case 2 : {
          nt_template_instruction_parse (inLexique) ;
          } break ;
        default :
          syntaxRepeat_6 = false ;
          break ;
      }
    }
  }
  GGS_lstring  var_cas_s = GGS_lstring ::constructor_retrieveAndResetTemplateString (inLexique COMMA_HERE) ;
}

//---------------------------------------------------------------------------*

void template_parser::
pr_template_instruction_list_template_parser_380_33_parse (template_scanner & inLexique) {
  { bool syntaxRepeat_6 = true ;
    while (syntaxRepeat_6) {
      switch (select_template_parser_6 (inLexique)) {
        case 2 : {
          nt_template_instruction_parse (inLexique) ;
          } break ;
        default :
          syntaxRepeat_6 = false ;
          break ;
      }
    }
  }
  GGS_lstring::constructor_retrieveAndResetTemplateString (inLexique COMMA_HERE) ;
}

//---------------------------------------------------------------------------*
//                                                                           *
//      Implementation of production rule 'goil_template_start_symbol'       *
//                                                                           *
//---------------------------------------------------------------------------*

void template_parser::
pr_goil_template_start_symbol_template_parser_410_34_ (template_scanner & inLexique,
                                const GGS_string var_cas_inPrefix,
                                const GGS_string var_cas_inPath,
                                const GGS_string var_cas_inTemplateDirectory,
                                GGS_goilTemplateVariableMap  var_cas_inTemplateVariableMap,
                                GGS_string &var_cas_ioResultingString) {
  nt_template_instruction_list_ (inLexique, var_cas_inPrefix, var_cas_inPath, var_cas_inTemplateDirectory, var_cas_inTemplateVariableMap, var_cas_ioResultingString) ;
}

//---------------------------------------------------------------------------*
//                                                                           *
//         Implementation of production rule 'template_instruction'          *
//                                                                           *
//---------------------------------------------------------------------------*

void template_parser::
pr_template_instruction_template_parser_428_27_ (template_scanner & inLexique,
                                const GGS_string var_cas_inPrefix,
                                const GGS_string var_cas_inPath,
                                const GGS_string var_cas_inTemplateDirectory,
                                GGS_goilTemplateVariableMap  &var_cas_ioTemplateVariableMap,
                                GGS_string &var_cas_ioResultingString) {
  inLexique.acceptTerminal (ACCEPT_TERMINAL (template_scanner::template_scanner_1_foreach) COMMA_HERE) ;
  GGS_uint  var_cas_shortestListLentgh = GGS_uint ::constructor_max (inLexique COMMA_HERE) ;
  GGS_goilTemplateEnumationList  var_cas_enumerationList = GGS_goilTemplateEnumationList ::constructor_emptyList () ;
  { bool syntaxRepeat_7 = true ;
    while (syntaxRepeat_7) {
        GGS_goilTemplateValue var_cas_enumeratedValue ;
        GGS_goilTemplateType var_cas_expressionType ;
        nt_expression_ (inLexique, var_cas_inPrefix, var_cas_inPath, var_cas_inTemplateDirectory, var_cas_ioTemplateVariableMap, var_cas_enumeratedValue, var_cas_expressionType) ;
        const GGS_bool cond_13180 = (var_cas_expressionType).operator_isNotEqual (GGS_goilTemplateType::constructor_listType (inLexique COMMA_HERE)) ;
        if (cond_13180.isBuiltAndTrue ()) {
          GGS_location (inLexique).reader_location (inLexique COMMA_HERE).signalGGSSemanticError (inLexique, GGS_string ("only a list can be enumerated") COMMA_SOURCE_FILE_AT_LINE (453)) ;
        }else if (cond_13180.isBuiltAndFalse ()) {
          const GGS_bool cond_13326 = (var_cas_shortestListLentgh).operator_strictSup (var_cas_enumeratedValue.reader_mMapListValue (inLexique COMMA_SOURCE_FILE_AT_LINE (453)).reader_length ()) ;
          if (cond_13326.isBuiltAndTrue ()) {
            var_cas_shortestListLentgh = var_cas_enumeratedValue.reader_mMapListValue (inLexique COMMA_SOURCE_FILE_AT_LINE (454)).reader_length () ;
          }
        }
        GGS_string var_cas_foreachPrefix ;
        switch (select_template_parser_8 (inLexique)) {
          case 1 : {
            var_cas_foreachPrefix = GGS_string ("") ;
            } break ;
          case 2 : {
            inLexique.acceptTerminal (ACCEPT_TERMINAL (template_scanner::template_scanner_1_prefixedby) COMMA_HERE) ;
            GGS_lstring  var_cas_prefixString ;
            inLexique.assignFromAttribute_tokenString (var_cas_prefixString) ;
            inLexique.acceptTerminal (ACCEPT_TERMINAL (template_scanner::template_scanner_1_identifier) COMMA_HERE) ;
            var_cas_foreachPrefix = var_cas_prefixString.reader_string (inLexique COMMA_SOURCE_FILE_AT_LINE (462)) ;
            } break ;
          default :
            break ;
        }
        var_cas_enumerationList.addAssign_operation (var_cas_enumeratedValue, var_cas_foreachPrefix) ;
      switch (select_template_parser_7 (inLexique)) {
        case 2 : {
          inLexique.acceptTerminal (ACCEPT_TERMINAL (template_scanner::template_scanner_1__2C_) COMMA_HERE) ;
          } break ;
        default :
          syntaxRepeat_7 = false ;
          break ;
      }
    }
  }
  switch (select_template_parser_9 (inLexique)) {
    case 1 : {
      } break ;
    case 2 : {
      inLexique.acceptTerminal (ACCEPT_TERMINAL (template_scanner::template_scanner_1_before) COMMA_HERE) ;
      if (((var_cas_shortestListLentgh).operator_strictSup (GGS_uint (0U))).isBuiltAndTrue ()) {
        nt_template_instruction_list_ (inLexique, var_cas_inPrefix, var_cas_inPath, var_cas_inTemplateDirectory, var_cas_ioTemplateVariableMap, var_cas_ioResultingString) ;
      }else{
        nt_template_instruction_list_parseAndResetTemplateString (inLexique) ;
      }
      } break ;
    default :
      break ;
  }
  inLexique.acceptTerminal (ACCEPT_TERMINAL (template_scanner::template_scanner_1_do) COMMA_HERE) ;
  GGS_uint  var_cas_idx = GGS_uint (0U) ;
  GGS_uint _variant_15647 = var_cas_shortestListLentgh ;
  const C_parsingContext context_15647 = inLexique.parsingContext () ;
  nt_template_instruction_list_parse (inLexique) ;
  switch (select_template_parser_10 (inLexique)) {
    case 1 : {
      } break ;
    case 2 : {
      inLexique.acceptTerminal (ACCEPT_TERMINAL (template_scanner::template_scanner_1_between) COMMA_HERE) ;
        nt_template_instruction_list_parse (inLexique) ;
      } break ;
    default :
      break ;
  }
  GGS_bool _condition_15647 ;
  if (_variant_15647.isBuilt ()) {
    _condition_15647 = (var_cas_idx).operator_strictInf (var_cas_shortestListLentgh) ;
  }
  while (_condition_15647.isBuiltAndTrue ()) {
    inLexique.setParsingContext (context_15647) ;
    if (_variant_15647.uintValue () == 0) {
      inLexique.onTheFlyRunTimeError ("loop variant error" COMMA_SOURCE_FILE_AT_LINE (536)) ;
      _condition_15647 = GGS_bool (false) ;
    }else{
      _variant_15647.decrement_operation (inLexique COMMA_HERE) ;
      GGS_goilTemplateVariableMap  var_cas_templateVariableMap = GGS_goilTemplateVariableMap ::constructor_mapWithMapToOverride (inLexique, var_cas_ioTemplateVariableMap COMMA_HERE) ;
      {
        GGS_goilTemplateEnumationList::cEnumerator enumerator_14203 (var_cas_enumerationList, true) ;
        const GGS_goilTemplateEnumationList::cElement * operand_14203 = NULL ;
        while (((operand_14203 = enumerator_14203.nextObject ()))) {
          macroValidPointer (operand_14203) ;
          const GGS_goilTemplateFieldMap  var_cas_fieldMap = operand_14203->mEnumeratedValue.reader_mMapListValue (inLexique COMMA_SOURCE_FILE_AT_LINE (492)).reader_mMapAtIndex (inLexique, var_cas_idx COMMA_SOURCE_FILE_AT_LINE (492)) ;
          {
            GGS_goilTemplateFieldMap::cEnumerator enumerator_14328 (var_cas_fieldMap, true) ;
            const GGS_goilTemplateFieldMap::cElement * operand_14328 = NULL ;
            while (((operand_14328 = enumerator_14328.nextObject ()))) {
              macroValidPointer (operand_14328) ;
              GGS_lstring  var_cas_varName = GGS_lstring ::constructor_new (inLexique, (operand_14203->mPrefix).operator_concat (operand_14328->mKey.reader_string (inLexique COMMA_SOURCE_FILE_AT_LINE (494))), operand_14328->mKey.reader_location (inLexique COMMA_SOURCE_FILE_AT_LINE (494)) COMMA_HERE) ;
              var_cas_templateVariableMap.modifier_insertKey (inLexique, GGS_lstring ::constructor_new (inLexique, (operand_14203->mPrefix).operator_concat (operand_14328->mKey.reader_string (inLexique COMMA_SOURCE_FILE_AT_LINE (499))), operand_14328->mKey.reader_location (inLexique COMMA_SOURCE_FILE_AT_LINE (499)) COMMA_HERE), operand_14328->mInfo.mType, GGS_goilTemplateValue::constructor_new (operand_14328->mInfo.mUnsigned64Value, operand_14328->mInfo.mStringValue, operand_14328->mInfo.mListValue) COMMA_SOURCE_FILE_AT_LINE (498)) ;
            }
          }
        }
      }
      ::routine_addUnsignedValue (inLexique,  var_cas_templateVariableMap,  GGS_lstring ::constructor_new (inLexique, GGS_string ("INDEX"), GGS_location (inLexique) COMMA_HERE),  var_cas_idx.reader_uint64 (inLexique COMMA_SOURCE_FILE_AT_LINE (509)) COMMA_SOURCE_FILE_AT_LINE (509)) ;
      nt_template_instruction_list_ (inLexique, var_cas_inPrefix, var_cas_inPath, var_cas_inTemplateDirectory, var_cas_templateVariableMap, var_cas_ioResultingString) ;
      var_cas_idx.increment_operation (inLexique COMMA_SOURCE_FILE_AT_LINE (518)) ;
      switch (select_template_parser_10 (inLexique)) {
        case 1 : {
          } break ;
        case 2 : {
          inLexique.acceptTerminal (ACCEPT_TERMINAL (template_scanner::template_scanner_1_between) COMMA_HERE) ;
          if (((var_cas_idx).operator_strictInf (var_cas_shortestListLentgh)).isBuiltAndTrue ()) {
            nt_template_instruction_list_ (inLexique, var_cas_inPrefix, var_cas_inPath, var_cas_inTemplateDirectory, var_cas_templateVariableMap, var_cas_ioResultingString) ;
          }else{
            nt_template_instruction_list_parseAndResetTemplateString (inLexique) ;
          }
          } break ;
        default :
          break ;
      }
      var_cas_ioTemplateVariableMap = var_cas_templateVariableMap.reader_overriddenMap (inLexique COMMA_SOURCE_FILE_AT_LINE (535)) ;
      _condition_15647 = (var_cas_idx).operator_strictInf (var_cas_shortestListLentgh) ;
    }
  }
  GGS_lstring  var_cas_s = GGS_lstring ::constructor_retrieveAndResetTemplateString (inLexique COMMA_HERE) ;
  switch (select_template_parser_11 (inLexique)) {
    case 1 : {
      } break ;
    case 2 : {
      inLexique.acceptTerminal (ACCEPT_TERMINAL (template_scanner::template_scanner_1_after) COMMA_HERE) ;
      if (((var_cas_shortestListLentgh).operator_strictSup (GGS_uint (0U))).isBuiltAndTrue ()) {
        nt_template_instruction_list_ (inLexique, var_cas_inPrefix, var_cas_inPath, var_cas_inTemplateDirectory, var_cas_ioTemplateVariableMap, var_cas_ioResultingString) ;
      }else{
        nt_template_instruction_list_parseAndResetTemplateString (inLexique) ;
      }
      } break ;
    default :
      break ;
  }
  inLexique.acceptTerminal (ACCEPT_TERMINAL (template_scanner::template_scanner_1_end) COMMA_HERE) ;
  inLexique.acceptTerminal (ACCEPT_TERMINAL (template_scanner::template_scanner_1_foreach) COMMA_HERE) ;
}

//---------------------------------------------------------------------------*

void template_parser::
pr_template_instruction_template_parser_428_27_parse (template_scanner & inLexique) {
  inLexique.acceptTerminal (ACCEPT_TERMINAL (template_scanner::template_scanner_1_foreach) COMMA_HERE) ;
  { bool syntaxRepeat_7 = true ;
    while (syntaxRepeat_7) {
        nt_expression_parse (inLexique) ;
        switch (select_template_parser_8 (inLexique)) {
          case 1 : {
            } break ;
          case 2 : {
            inLexique.acceptTerminal (ACCEPT_TERMINAL (template_scanner::template_scanner_1_prefixedby) COMMA_HERE) ;
            inLexique.acceptTerminal (ACCEPT_TERMINAL (template_scanner::template_scanner_1_identifier) COMMA_HERE) ;
            } break ;
          default :
            break ;
        }
      switch (select_template_parser_7 (inLexique)) {
        case 2 : {
          inLexique.acceptTerminal (ACCEPT_TERMINAL (template_scanner::template_scanner_1__2C_) COMMA_HERE) ;
          } break ;
        default :
          syntaxRepeat_7 = false ;
          break ;
      }
    }
  }
  switch (select_template_parser_9 (inLexique)) {
    case 1 : {
      } break ;
    case 2 : {
      inLexique.acceptTerminal (ACCEPT_TERMINAL (template_scanner::template_scanner_1_before) COMMA_HERE) ;
        nt_template_instruction_list_parse (inLexique) ;
      } break ;
    default :
      break ;
  }
  inLexique.acceptTerminal (ACCEPT_TERMINAL (template_scanner::template_scanner_1_do) COMMA_HERE) ;
    nt_template_instruction_list_parse (inLexique) ;
    switch (select_template_parser_10 (inLexique)) {
      case 1 : {
        } break ;
      case 2 : {
        inLexique.acceptTerminal (ACCEPT_TERMINAL (template_scanner::template_scanner_1_between) COMMA_HERE) ;
          nt_template_instruction_list_parse (inLexique) ;
        } break ;
      default :
        break ;
    }
  switch (select_template_parser_11 (inLexique)) {
    case 1 : {
      } break ;
    case 2 : {
      inLexique.acceptTerminal (ACCEPT_TERMINAL (template_scanner::template_scanner_1_after) COMMA_HERE) ;
        nt_template_instruction_list_parse (inLexique) ;
      } break ;
    default :
      break ;
  }
  inLexique.acceptTerminal (ACCEPT_TERMINAL (template_scanner::template_scanner_1_end) COMMA_HERE) ;
  inLexique.acceptTerminal (ACCEPT_TERMINAL (template_scanner::template_scanner_1_foreach) COMMA_HERE) ;
  GGS_lstring::constructor_retrieveAndResetTemplateString (inLexique COMMA_HERE) ;
}

//---------------------------------------------------------------------------*
//                                                                           *
//         Implementation of production rule 'template_instruction'          *
//                                                                           *
//---------------------------------------------------------------------------*

void template_parser::
pr_template_instruction_template_parser_562_27_ (template_scanner & inLexique,
                                const GGS_string var_cas_inPrefix,
                                const GGS_string var_cas_inPath,
                                const GGS_string var_cas_inTemplateDirectory,
                                GGS_goilTemplateVariableMap  &var_cas_ioTemplateVariableMap,
                                GGS_string &var_cas_ioResultingString) {
  inLexique.acceptTerminal (ACCEPT_TERMINAL (template_scanner::template_scanner_1_for) COMMA_HERE) ;
  GGS_lstring  var_cas_variableName ;
  inLexique.assignFromAttribute_tokenString (var_cas_variableName) ;
  inLexique.acceptTerminal (ACCEPT_TERMINAL (template_scanner::template_scanner_1_identifier) COMMA_HERE) ;
  inLexique.acceptTerminal (ACCEPT_TERMINAL (template_scanner::template_scanner_1_in) COMMA_HERE) ;
  GGS_goilTemplateExpressionList  var_cas_enumerationList = GGS_goilTemplateExpressionList ::constructor_emptyList () ;
  { bool syntaxRepeat_12 = true ;
    while (syntaxRepeat_12) {
        GGS_goilTemplateValue var_cas_enumeratedValue ;
        GGS_goilTemplateType var_cas_expressionType ;
        nt_expression_ (inLexique, var_cas_inPrefix, var_cas_inPath, var_cas_inTemplateDirectory, var_cas_ioTemplateVariableMap, var_cas_enumeratedValue, var_cas_expressionType) ;
        const GGS_bool cond_17132 = (((var_cas_expressionType).operator_isNotEqual (GGS_goilTemplateType::constructor_boolType (inLexique COMMA_HERE))).operator_and ((var_cas_expressionType).operator_isNotEqual (GGS_goilTemplateType::constructor_unsignedType (inLexique COMMA_HERE)))).operator_and ((var_cas_expressionType).operator_isNotEqual (GGS_goilTemplateType::constructor_stringType (inLexique COMMA_HERE))) ;
        if (cond_17132.isBuiltAndTrue ()) {
          GGS_location (inLexique).reader_location (inLexique COMMA_HERE).signalGGSSemanticError (inLexique, GGS_string ("only a bool, integer or string can be enumerated") COMMA_SOURCE_FILE_AT_LINE (590)) ;
        }
        var_cas_enumerationList.addAssign_operation (var_cas_enumeratedValue, var_cas_expressionType) ;
      switch (select_template_parser_12 (inLexique)) {
        case 2 : {
          inLexique.acceptTerminal (ACCEPT_TERMINAL (template_scanner::template_scanner_1__2C_) COMMA_HERE) ;
          } break ;
        default :
          syntaxRepeat_12 = false ;
          break ;
      }
    }
  }
  inLexique.acceptTerminal (ACCEPT_TERMINAL (template_scanner::template_scanner_1_do) COMMA_HERE) ;
  GGS_uint  var_cas_idx = GGS_uint (0U) ;
  GGS_uint _variant_18482 = var_cas_enumerationList.reader_length () ;
  const C_parsingContext context_18482 = inLexique.parsingContext () ;
  nt_template_instruction_list_parse (inLexique) ;
  switch (select_template_parser_13 (inLexique)) {
    case 1 : {
      } break ;
    case 2 : {
      inLexique.acceptTerminal (ACCEPT_TERMINAL (template_scanner::template_scanner_1_between) COMMA_HERE) ;
        nt_template_instruction_list_parse (inLexique) ;
      } break ;
    default :
      break ;
  }
  GGS_bool _condition_18482 ;
  if (_variant_18482.isBuilt ()) {
    _condition_18482 = (var_cas_enumerationList.reader_length ()).operator_strictSup (GGS_uint (0U)) ;
  }
  while (_condition_18482.isBuiltAndTrue ()) {
    inLexique.setParsingContext (context_18482) ;
    if (_variant_18482.uintValue () == 0) {
      inLexique.onTheFlyRunTimeError ("loop variant error" COMMA_SOURCE_FILE_AT_LINE (639)) ;
      _condition_18482 = GGS_bool (false) ;
    }else{
      _variant_18482.decrement_operation (inLexique COMMA_HERE) ;
      GGS_goilTemplateVariableMap  var_cas_templateVariableMap = GGS_goilTemplateVariableMap ::constructor_mapWithMapToOverride (inLexique, var_cas_ioTemplateVariableMap COMMA_HERE) ;
      GGS_goilTemplateValue var_cas_value ;
      GGS_goilTemplateType var_cas_type ;
      var_cas_enumerationList.modifier_popFirst (inLexique, var_cas_value, var_cas_type COMMA_SOURCE_FILE_AT_LINE (603)) ;
      var_cas_templateVariableMap.modifier_insertKey (inLexique, var_cas_variableName, var_cas_type, var_cas_value COMMA_SOURCE_FILE_AT_LINE (604)) ;
      ::routine_addUnsignedValue (inLexique,  var_cas_templateVariableMap,  GGS_lstring ::constructor_new (inLexique, GGS_string ("INDEX"), GGS_location (inLexique) COMMA_HERE),  var_cas_idx.reader_uint64 (inLexique COMMA_SOURCE_FILE_AT_LINE (612)) COMMA_SOURCE_FILE_AT_LINE (612)) ;
      nt_template_instruction_list_ (inLexique, var_cas_inPrefix, var_cas_inPath, var_cas_inTemplateDirectory, var_cas_templateVariableMap, var_cas_ioResultingString) ;
      var_cas_idx.increment_operation (inLexique COMMA_SOURCE_FILE_AT_LINE (621)) ;
      switch (select_template_parser_13 (inLexique)) {
        case 1 : {
          } break ;
        case 2 : {
          inLexique.acceptTerminal (ACCEPT_TERMINAL (template_scanner::template_scanner_1_between) COMMA_HERE) ;
          if (((var_cas_enumerationList.reader_length ()).operator_strictSup (GGS_uint (0U))).isBuiltAndTrue ()) {
            nt_template_instruction_list_ (inLexique, var_cas_inPrefix, var_cas_inPath, var_cas_inTemplateDirectory, var_cas_templateVariableMap, var_cas_ioResultingString) ;
          }else{
            nt_template_instruction_list_parseAndResetTemplateString (inLexique) ;
          }
          } break ;
        default :
          break ;
      }
      var_cas_ioTemplateVariableMap = var_cas_templateVariableMap.reader_overriddenMap (inLexique COMMA_SOURCE_FILE_AT_LINE (638)) ;
      _condition_18482 = (var_cas_enumerationList.reader_length ()).operator_strictSup (GGS_uint (0U)) ;
    }
  }
  GGS_lstring  var_cas_s = GGS_lstring ::constructor_retrieveAndResetTemplateString (inLexique COMMA_HERE) ;
  inLexique.acceptTerminal (ACCEPT_TERMINAL (template_scanner::template_scanner_1_end) COMMA_HERE) ;
  inLexique.acceptTerminal (ACCEPT_TERMINAL (template_scanner::template_scanner_1_for) COMMA_HERE) ;
}

//---------------------------------------------------------------------------*

void template_parser::
pr_template_instruction_template_parser_562_27_parse (template_scanner & inLexique) {
  inLexique.acceptTerminal (ACCEPT_TERMINAL (template_scanner::template_scanner_1_for) COMMA_HERE) ;
  inLexique.acceptTerminal (ACCEPT_TERMINAL (template_scanner::template_scanner_1_identifier) COMMA_HERE) ;
  inLexique.acceptTerminal (ACCEPT_TERMINAL (template_scanner::template_scanner_1_in) COMMA_HERE) ;
  { bool syntaxRepeat_12 = true ;
    while (syntaxRepeat_12) {
        nt_expression_parse (inLexique) ;
      switch (select_template_parser_12 (inLexique)) {
        case 2 : {
          inLexique.acceptTerminal (ACCEPT_TERMINAL (template_scanner::template_scanner_1__2C_) COMMA_HERE) ;
          } break ;
        default :
          syntaxRepeat_12 = false ;
          break ;
      }
    }
  }
  inLexique.acceptTerminal (ACCEPT_TERMINAL (template_scanner::template_scanner_1_do) COMMA_HERE) ;
    nt_template_instruction_list_parse (inLexique) ;
    switch (select_template_parser_13 (inLexique)) {
      case 1 : {
        } break ;
      case 2 : {
        inLexique.acceptTerminal (ACCEPT_TERMINAL (template_scanner::template_scanner_1_between) COMMA_HERE) ;
          nt_template_instruction_list_parse (inLexique) ;
        } break ;
      default :
        break ;
    }
  inLexique.acceptTerminal (ACCEPT_TERMINAL (template_scanner::template_scanner_1_end) COMMA_HERE) ;
  inLexique.acceptTerminal (ACCEPT_TERMINAL (template_scanner::template_scanner_1_for) COMMA_HERE) ;
  GGS_lstring::constructor_retrieveAndResetTemplateString (inLexique COMMA_HERE) ;
}

//---------------------------------------------------------------------------*
//                                                                           *
//         Implementation of production rule 'template_instruction'          *
//                                                                           *
//---------------------------------------------------------------------------*

void template_parser::
pr_template_instruction_template_parser_648_27_ (template_scanner & inLexique,
                                const GGS_string var_cas_inPrefix,
                                const GGS_string var_cas_inPath,
                                const GGS_string var_cas_inTemplateDirectory,
                                GGS_goilTemplateVariableMap  &var_cas_ioTemplateVariableMap,
                                GGS_string &var_cas_ioResultingString) {
  inLexique.acceptTerminal (ACCEPT_TERMINAL (template_scanner::template_scanner_1_loop) COMMA_HERE) ;
  GGS_lstring  var_cas_variableName ;
  inLexique.assignFromAttribute_tokenString (var_cas_variableName) ;
  inLexique.acceptTerminal (ACCEPT_TERMINAL (template_scanner::template_scanner_1_identifier) COMMA_HERE) ;
  inLexique.acceptTerminal (ACCEPT_TERMINAL (template_scanner::template_scanner_1_from) COMMA_HERE) ;
  GGS_goilTemplateValue var_cas_startValue ;
  GGS_goilTemplateType var_cas_startType ;
  nt_expression_ (inLexique, var_cas_inPrefix, var_cas_inPath, var_cas_inTemplateDirectory, var_cas_ioTemplateVariableMap, var_cas_startValue, var_cas_startType) ;
  const GGS_bool cond_19229 = (var_cas_startType).operator_isNotEqual (GGS_goilTemplateType::constructor_unsignedType (inLexique COMMA_HERE)) ;
  if (cond_19229.isBuiltAndTrue ()) {
    GGS_location (inLexique).reader_location (inLexique COMMA_HERE).signalGGSSemanticError (inLexique, GGS_string ("loop start value should be an integer") COMMA_SOURCE_FILE_AT_LINE (669)) ;
  }
  inLexique.acceptTerminal (ACCEPT_TERMINAL (template_scanner::template_scanner_1_to) COMMA_HERE) ;
  GGS_goilTemplateValue var_cas_endValue ;
  GGS_goilTemplateType var_cas_endType ;
  nt_expression_ (inLexique, var_cas_inPrefix, var_cas_inPath, var_cas_inTemplateDirectory, var_cas_ioTemplateVariableMap, var_cas_endValue, var_cas_endType) ;
  const GGS_bool cond_19539 = (var_cas_endType).operator_isNotEqual (GGS_goilTemplateType::constructor_unsignedType (inLexique COMMA_HERE)) ;
  if (cond_19539.isBuiltAndTrue ()) {
    GGS_location (inLexique).reader_location (inLexique COMMA_HERE).signalGGSSemanticError (inLexique, GGS_string ("loop end value should be an integer") COMMA_SOURCE_FILE_AT_LINE (683)) ;
  }
  switch (select_template_parser_14 (inLexique)) {
    case 1 : {
      } break ;
    case 2 : {
      inLexique.acceptTerminal (ACCEPT_TERMINAL (template_scanner::template_scanner_1_before) COMMA_HERE) ;
      if (((var_cas_endValue.reader_mUnsigned64Value (inLexique COMMA_SOURCE_FILE_AT_LINE (689))).operator_supOrEqual (var_cas_startValue.reader_mUnsigned64Value (inLexique COMMA_SOURCE_FILE_AT_LINE (689)))).isBuiltAndTrue ()) {
        nt_template_instruction_list_ (inLexique, var_cas_inPrefix, var_cas_inPath, var_cas_inTemplateDirectory, var_cas_ioTemplateVariableMap, var_cas_ioResultingString) ;
      }else{
        nt_template_instruction_list_parseAndResetTemplateString (inLexique) ;
      }
      } break ;
    default :
      break ;
  }
  inLexique.acceptTerminal (ACCEPT_TERMINAL (template_scanner::template_scanner_1_do) COMMA_HERE) ;
  GGS_uint  var_cas_start = var_cas_startValue.reader_mUnsigned64Value (inLexique COMMA_SOURCE_FILE_AT_LINE (703)).reader_uint (inLexique COMMA_SOURCE_FILE_AT_LINE (703)) ;
  GGS_uint  var_cas_stop = var_cas_endValue.reader_mUnsigned64Value (inLexique COMMA_SOURCE_FILE_AT_LINE (704)).reader_uint (inLexique COMMA_SOURCE_FILE_AT_LINE (704)) ;
  GGS_uint  var_cas_idx = var_cas_start ;
  GGS_uint _variant_21042 = var_cas_stop.substract_operation (inLexique, var_cas_start COMMA_SOURCE_FILE_AT_LINE (706)).add_operation (inLexique, GGS_uint (1U) COMMA_SOURCE_FILE_AT_LINE (706)) ;
  const C_parsingContext context_21042 = inLexique.parsingContext () ;
  nt_template_instruction_list_parse (inLexique) ;
  switch (select_template_parser_15 (inLexique)) {
    case 1 : {
      } break ;
    case 2 : {
      inLexique.acceptTerminal (ACCEPT_TERMINAL (template_scanner::template_scanner_1_between) COMMA_HERE) ;
        nt_template_instruction_list_parse (inLexique) ;
      } break ;
    default :
      break ;
  }
  GGS_bool _condition_21042 ;
  if (_variant_21042.isBuilt ()) {
    _condition_21042 = (var_cas_idx).operator_infOrEqual (var_cas_stop) ;
  }
  while (_condition_21042.isBuiltAndTrue ()) {
    inLexique.setParsingContext (context_21042) ;
    if (_variant_21042.uintValue () == 0) {
      inLexique.onTheFlyRunTimeError ("loop variant error" COMMA_SOURCE_FILE_AT_LINE (739)) ;
      _condition_21042 = GGS_bool (false) ;
    }else{
      _variant_21042.decrement_operation (inLexique COMMA_HERE) ;
      GGS_goilTemplateVariableMap  var_cas_templateVariableMap = GGS_goilTemplateVariableMap ::constructor_mapWithMapToOverride (inLexique, var_cas_ioTemplateVariableMap COMMA_HERE) ;
      ::routine_addUnsignedValue (inLexique,  var_cas_templateVariableMap,  var_cas_variableName,  var_cas_idx.reader_uint64 (inLexique COMMA_SOURCE_FILE_AT_LINE (712)) COMMA_SOURCE_FILE_AT_LINE (712)) ;
      nt_template_instruction_list_ (inLexique, var_cas_inPrefix, var_cas_inPath, var_cas_inTemplateDirectory, var_cas_templateVariableMap, var_cas_ioResultingString) ;
      var_cas_idx.increment_operation (inLexique COMMA_SOURCE_FILE_AT_LINE (721)) ;
      switch (select_template_parser_15 (inLexique)) {
        case 1 : {
          } break ;
        case 2 : {
          inLexique.acceptTerminal (ACCEPT_TERMINAL (template_scanner::template_scanner_1_between) COMMA_HERE) ;
          if (((var_cas_idx).operator_infOrEqual (var_cas_stop)).isBuiltAndTrue ()) {
            nt_template_instruction_list_ (inLexique, var_cas_inPrefix, var_cas_inPath, var_cas_inTemplateDirectory, var_cas_templateVariableMap, var_cas_ioResultingString) ;
          }else{
            nt_template_instruction_list_parseAndResetTemplateString (inLexique) ;
          }
          } break ;
        default :
          break ;
      }
      var_cas_ioTemplateVariableMap = var_cas_templateVariableMap.reader_overriddenMap (inLexique COMMA_SOURCE_FILE_AT_LINE (738)) ;
      _condition_21042 = (var_cas_idx).operator_infOrEqual (var_cas_stop) ;
    }
  }
  GGS_lstring  var_cas_s = GGS_lstring ::constructor_retrieveAndResetTemplateString (inLexique COMMA_HERE) ;
  switch (select_template_parser_16 (inLexique)) {
    case 1 : {
      } break ;
    case 2 : {
      inLexique.acceptTerminal (ACCEPT_TERMINAL (template_scanner::template_scanner_1_after) COMMA_HERE) ;
      if (((var_cas_stop).operator_supOrEqual (var_cas_start)).isBuiltAndTrue ()) {
        nt_template_instruction_list_ (inLexique, var_cas_inPrefix, var_cas_inPath, var_cas_inTemplateDirectory, var_cas_ioTemplateVariableMap, var_cas_ioResultingString) ;
      }else{
        nt_template_instruction_list_parseAndResetTemplateString (inLexique) ;
      }
      } break ;
    default :
      break ;
  }
  inLexique.acceptTerminal (ACCEPT_TERMINAL (template_scanner::template_scanner_1_end) COMMA_HERE) ;
  inLexique.acceptTerminal (ACCEPT_TERMINAL (template_scanner::template_scanner_1_loop) COMMA_HERE) ;
}

//---------------------------------------------------------------------------*

void template_parser::
pr_template_instruction_template_parser_648_27_parse (template_scanner & inLexique) {
  inLexique.acceptTerminal (ACCEPT_TERMINAL (template_scanner::template_scanner_1_loop) COMMA_HERE) ;
  inLexique.acceptTerminal (ACCEPT_TERMINAL (template_scanner::template_scanner_1_identifier) COMMA_HERE) ;
  inLexique.acceptTerminal (ACCEPT_TERMINAL (template_scanner::template_scanner_1_from) COMMA_HERE) ;
  nt_expression_parse (inLexique) ;
  inLexique.acceptTerminal (ACCEPT_TERMINAL (template_scanner::template_scanner_1_to) COMMA_HERE) ;
  nt_expression_parse (inLexique) ;
  switch (select_template_parser_14 (inLexique)) {
    case 1 : {
      } break ;
    case 2 : {
      inLexique.acceptTerminal (ACCEPT_TERMINAL (template_scanner::template_scanner_1_before) COMMA_HERE) ;
        nt_template_instruction_list_parse (inLexique) ;
      } break ;
    default :
      break ;
  }
  inLexique.acceptTerminal (ACCEPT_TERMINAL (template_scanner::template_scanner_1_do) COMMA_HERE) ;
    nt_template_instruction_list_parse (inLexique) ;
    switch (select_template_parser_15 (inLexique)) {
      case 1 : {
        } break ;
      case 2 : {
        inLexique.acceptTerminal (ACCEPT_TERMINAL (template_scanner::template_scanner_1_between) COMMA_HERE) ;
          nt_template_instruction_list_parse (inLexique) ;
        } break ;
      default :
        break ;
    }
  switch (select_template_parser_16 (inLexique)) {
    case 1 : {
      } break ;
    case 2 : {
      inLexique.acceptTerminal (ACCEPT_TERMINAL (template_scanner::template_scanner_1_after) COMMA_HERE) ;
        nt_template_instruction_list_parse (inLexique) ;
      } break ;
    default :
      break ;
  }
  inLexique.acceptTerminal (ACCEPT_TERMINAL (template_scanner::template_scanner_1_end) COMMA_HERE) ;
  inLexique.acceptTerminal (ACCEPT_TERMINAL (template_scanner::template_scanner_1_loop) COMMA_HERE) ;
  GGS_lstring::constructor_retrieveAndResetTemplateString (inLexique COMMA_HERE) ;
}

//---------------------------------------------------------------------------*
//                                                                           *
//         Implementation of production rule 'template_instruction'          *
//                                                                           *
//---------------------------------------------------------------------------*

void template_parser::
pr_template_instruction_template_parser_765_27_ (template_scanner & inLexique,
                                const GGS_string var_cas_inPrefix,
                                const GGS_string var_cas_inPath,
                                const GGS_string var_cas_inTemplateDirectory,
                                GGS_goilTemplateVariableMap  &var_cas_ioTemplateVariableMap,
                                GGS_string &/* var_cas_ioResultingString */) {
  inLexique.acceptTerminal (ACCEPT_TERMINAL (template_scanner::template_scanner_1_let) COMMA_HERE) ;
  GGS_lstring  var_cas_variableName ;
  inLexique.assignFromAttribute_tokenString (var_cas_variableName) ;
  inLexique.acceptTerminal (ACCEPT_TERMINAL (template_scanner::template_scanner_1_identifier) COMMA_HERE) ;
  GGS_goilTemplateValue var_cas_enumeratedValue ;
  GGS_goilTemplateType var_cas_expressionType ;
  switch (select_template_parser_17 (inLexique)) {
    case 1 : {
      inLexique.acceptTerminal (ACCEPT_TERMINAL (template_scanner::template_scanner_1__3A__3D_) COMMA_HERE) ;
      nt_expression_ (inLexique, var_cas_inPrefix, var_cas_inPath, var_cas_inTemplateDirectory, var_cas_ioTemplateVariableMap, var_cas_enumeratedValue, var_cas_expressionType) ;
      const GGS_bool cond_22318 = var_cas_ioTemplateVariableMap.reader_hasKey (var_cas_variableName.reader_string (inLexique COMMA_SOURCE_FILE_AT_LINE (785))) ;
      if (cond_22318.isBuiltAndTrue ()) {
        var_cas_ioTemplateVariableMap.modifier_setMTypeForKey (inLexique, var_cas_expressionType, var_cas_variableName.reader_string (inLexique COMMA_SOURCE_FILE_AT_LINE (786)) COMMA_SOURCE_FILE_AT_LINE (786)) ;
        var_cas_ioTemplateVariableMap.modifier_setMValueForKey (inLexique, var_cas_enumeratedValue, var_cas_variableName.reader_string (inLexique COMMA_SOURCE_FILE_AT_LINE (787)) COMMA_SOURCE_FILE_AT_LINE (787)) ;
      }else if (cond_22318.isBuiltAndFalse ()) {
        var_cas_ioTemplateVariableMap.modifier_insertKey (inLexique, var_cas_variableName, var_cas_expressionType, var_cas_enumeratedValue COMMA_SOURCE_FILE_AT_LINE (789)) ;
      }
      } break ;
    case 2 : {
      inLexique.acceptTerminal (ACCEPT_TERMINAL (template_scanner::template_scanner_1__2B__3D_) COMMA_HERE) ;
      nt_expression_ (inLexique, var_cas_inPrefix, var_cas_inPath, var_cas_inTemplateDirectory, var_cas_ioTemplateVariableMap, var_cas_enumeratedValue, var_cas_expressionType) ;
      const GGS_bool cond_22701 = (var_cas_expressionType).operator_isNotEqual (GGS_goilTemplateType::constructor_stringType (inLexique COMMA_HERE)) ;
      if (cond_22701.isBuiltAndTrue ()) {
        GGS_location (inLexique).reader_location (inLexique COMMA_HERE).signalGGSSemanticError (inLexique, GGS_string ("string type expected") COMMA_SOURCE_FILE_AT_LINE (803)) ;
      }else if (cond_22701.isBuiltAndFalse ()) {
        GGS_goilTemplateValue var_cas_variableValue ;
        GGS_goilTemplateType var_cas_variableType ;
        const GGS_goilTemplateVariableMap  temp_22818 = var_cas_ioTemplateVariableMap ;
        if (temp_22818.isBuilt ()) {
          temp_22818 (HERE)->method_searchKey (inLexique, var_cas_variableName, var_cas_variableType, var_cas_variableValue COMMA_SOURCE_FILE_AT_LINE (806)) ;
        }
        const GGS_bool cond_22983 = (var_cas_variableType).operator_isNotEqual (GGS_goilTemplateType::constructor_listType (inLexique COMMA_HERE)) ;
        if (cond_22983.isBuiltAndTrue ()) {
          var_cas_variableName.reader_location (inLexique COMMA_HERE).signalGGSSemanticError (inLexique, GGS_string ("list type expected") COMMA_SOURCE_FILE_AT_LINE (809)) ;
        }else if (cond_22983.isBuiltAndFalse ()) {
          GGS_goilTemplateFieldMap  var_cas_fieldMap = GGS_goilTemplateFieldMap ::constructor_emptyMap (inLexique COMMA_HERE) ;
          var_cas_fieldMap.modifier_insertKey (inLexique, GGS_lstring ::constructor_new (inLexique, GGS_string ("NAME"), GGS_location (inLexique) COMMA_HERE), var_cas_expressionType, GGS_uint64 (0ULL), var_cas_enumeratedValue.reader_mStringValue (inLexique COMMA_SOURCE_FILE_AT_LINE (811)), GGS_goilTemplateFieldMapList ::constructor_emptyList () COMMA_SOURCE_FILE_AT_LINE (811)) ;
          var_cas_variableValue.mMapListValue.addAssign_operation (var_cas_fieldMap) ;
          var_cas_ioTemplateVariableMap.modifier_setMTypeForKey (inLexique, var_cas_variableType, var_cas_variableName.reader_string (inLexique COMMA_SOURCE_FILE_AT_LINE (813)) COMMA_SOURCE_FILE_AT_LINE (813)) ;
          var_cas_ioTemplateVariableMap.modifier_setMValueForKey (inLexique, var_cas_variableValue, var_cas_variableName.reader_string (inLexique COMMA_SOURCE_FILE_AT_LINE (814)) COMMA_SOURCE_FILE_AT_LINE (814)) ;
        }
      }
      } break ;
    default :
      break ;
  }
}

//---------------------------------------------------------------------------*

void template_parser::
pr_template_instruction_template_parser_765_27_parse (template_scanner & inLexique) {
  inLexique.acceptTerminal (ACCEPT_TERMINAL (template_scanner::template_scanner_1_let) COMMA_HERE) ;
  inLexique.acceptTerminal (ACCEPT_TERMINAL (template_scanner::template_scanner_1_identifier) COMMA_HERE) ;
  switch (select_template_parser_17 (inLexique)) {
    case 1 : {
      inLexique.acceptTerminal (ACCEPT_TERMINAL (template_scanner::template_scanner_1__3A__3D_) COMMA_HERE) ;
      nt_expression_parse (inLexique) ;
      } break ;
    case 2 : {
      inLexique.acceptTerminal (ACCEPT_TERMINAL (template_scanner::template_scanner_1__2B__3D_) COMMA_HERE) ;
      nt_expression_parse (inLexique) ;
      } break ;
    default :
      break ;
  }
  GGS_lstring::constructor_retrieveAndResetTemplateString (inLexique COMMA_HERE) ;
}

//---------------------------------------------------------------------------*
//                                                                           *
//           Implementation of production rule 'variable_or_here'            *
//                                                                           *
//---------------------------------------------------------------------------*

void template_parser::
pr_variable_or_here_template_parser_822_23_ (template_scanner & inLexique,
                                const GGS_goilTemplateVariableMap  var_cas_inTemplateVariableMap,
                                GGS_location  &var_cas_outWhere) {
  switch (select_template_parser_18 (inLexique)) {
    case 1 : {
      inLexique.acceptTerminal (ACCEPT_TERMINAL (template_scanner::template_scanner_1_here) COMMA_HERE) ;
      var_cas_outWhere = GGS_location (inLexique) ;
      } break ;
    case 2 : {
      GGS_lstring  var_cas_variableName ;
      inLexique.assignFromAttribute_tokenString (var_cas_variableName) ;
      inLexique.acceptTerminal (ACCEPT_TERMINAL (template_scanner::template_scanner_1_identifier) COMMA_HERE) ;
      var_cas_outWhere = var_cas_inTemplateVariableMap.reader_locationForKey (inLexique, var_cas_variableName.reader_string (inLexique COMMA_SOURCE_FILE_AT_LINE (831)) COMMA_SOURCE_FILE_AT_LINE (831)) ;
      } break ;
    default :
      break ;
  }
}

//---------------------------------------------------------------------------*

void template_parser::
pr_variable_or_here_template_parser_822_23_parse (template_scanner & inLexique) {
  switch (select_template_parser_18 (inLexique)) {
    case 1 : {
      inLexique.acceptTerminal (ACCEPT_TERMINAL (template_scanner::template_scanner_1_here) COMMA_HERE) ;
      } break ;
    case 2 : {
      inLexique.acceptTerminal (ACCEPT_TERMINAL (template_scanner::template_scanner_1_identifier) COMMA_HERE) ;
      } break ;
    default :
      break ;
  }
  GGS_lstring::constructor_retrieveAndResetTemplateString (inLexique COMMA_HERE) ;
}

//---------------------------------------------------------------------------*
//                                                                           *
//         Implementation of production rule 'template_instruction'          *
//                                                                           *
//---------------------------------------------------------------------------*

void template_parser::
pr_template_instruction_template_parser_837_27_ (template_scanner & inLexique,
                                const GGS_string var_cas_inPrefix,
                                const GGS_string var_cas_inPath,
                                const GGS_string var_cas_inTemplateDirectory,
                                GGS_goilTemplateVariableMap  &var_cas_ioTemplateVariableMap,
                                GGS_string &/* var_cas_ioResultingString */) {
  inLexique.acceptTerminal (ACCEPT_TERMINAL (template_scanner::template_scanner_1_error) COMMA_HERE) ;
  GGS_location  var_cas_where ;
  nt_variable_or_here_ (inLexique, var_cas_ioTemplateVariableMap, var_cas_where) ;
  GGS_goilTemplateValue var_cas_enumeratedValue ;
  GGS_goilTemplateType var_cas_expressionType ;
  nt_expression_ (inLexique, var_cas_inPrefix, var_cas_inPath, var_cas_inTemplateDirectory, var_cas_ioTemplateVariableMap, var_cas_enumeratedValue, var_cas_expressionType) ;
  const GGS_bool cond_24527 = (var_cas_expressionType).operator_isNotEqual (GGS_goilTemplateType::constructor_stringType (inLexique COMMA_HERE)) ;
  if (cond_24527.isBuiltAndTrue ()) {
    GGS_location (inLexique).reader_location (inLexique COMMA_HERE).signalGGSSemanticError (inLexique, GGS_string ("error message should by a string expression") COMMA_SOURCE_FILE_AT_LINE (859)) ;
  }else if (cond_24527.isBuiltAndFalse ()) {
    var_cas_where.reader_location (inLexique COMMA_HERE).signalGGSSemanticError (inLexique, var_cas_enumeratedValue.reader_mStringValue (inLexique COMMA_SOURCE_FILE_AT_LINE (860)) COMMA_SOURCE_FILE_AT_LINE (861)) ;
  }
}

//---------------------------------------------------------------------------*

void template_parser::
pr_template_instruction_template_parser_837_27_parse (template_scanner & inLexique) {
  inLexique.acceptTerminal (ACCEPT_TERMINAL (template_scanner::template_scanner_1_error) COMMA_HERE) ;
  nt_variable_or_here_parse (inLexique) ;
  nt_expression_parse (inLexique) ;
  GGS_lstring::constructor_retrieveAndResetTemplateString (inLexique COMMA_HERE) ;
}

//---------------------------------------------------------------------------*
//                                                                           *
//         Implementation of production rule 'template_instruction'          *
//                                                                           *
//---------------------------------------------------------------------------*

void template_parser::
pr_template_instruction_template_parser_866_27_ (template_scanner & inLexique,
                                const GGS_string var_cas_inPrefix,
                                const GGS_string var_cas_inPath,
                                const GGS_string var_cas_inTemplateDirectory,
                                GGS_goilTemplateVariableMap  &var_cas_ioTemplateVariableMap,
                                GGS_string &/* var_cas_ioResultingString */) {
  inLexique.acceptTerminal (ACCEPT_TERMINAL (template_scanner::template_scanner_1_warning) COMMA_HERE) ;
  GGS_location  var_cas_where ;
  nt_variable_or_here_ (inLexique, var_cas_ioTemplateVariableMap, var_cas_where) ;
  GGS_goilTemplateValue var_cas_enumeratedValue ;
  GGS_goilTemplateType var_cas_expressionType ;
  nt_expression_ (inLexique, var_cas_inPrefix, var_cas_inPath, var_cas_inTemplateDirectory, var_cas_ioTemplateVariableMap, var_cas_enumeratedValue, var_cas_expressionType) ;
  const GGS_bool cond_25291 = (var_cas_expressionType).operator_isNotEqual (GGS_goilTemplateType::constructor_stringType (inLexique COMMA_HERE)) ;
  if (cond_25291.isBuiltAndTrue ()) {
    GGS_location (inLexique).reader_location (inLexique COMMA_HERE).signalGGSSemanticError (inLexique, GGS_string ("error message should by a string expression") COMMA_SOURCE_FILE_AT_LINE (888)) ;
  }else if (cond_25291.isBuiltAndFalse ()) {
    var_cas_where.reader_location (inLexique COMMA_HERE).signalGGSSemanticWarning (inLexique, var_cas_enumeratedValue.reader_mStringValue (inLexique COMMA_SOURCE_FILE_AT_LINE (889)) COMMA_SOURCE_FILE_AT_LINE (889)) ;
  }
}

//---------------------------------------------------------------------------*

void template_parser::
pr_template_instruction_template_parser_866_27_parse (template_scanner & inLexique) {
  inLexique.acceptTerminal (ACCEPT_TERMINAL (template_scanner::template_scanner_1_warning) COMMA_HERE) ;
  nt_variable_or_here_parse (inLexique) ;
  nt_expression_parse (inLexique) ;
  GGS_lstring::constructor_retrieveAndResetTemplateString (inLexique COMMA_HERE) ;
}

//---------------------------------------------------------------------------*

